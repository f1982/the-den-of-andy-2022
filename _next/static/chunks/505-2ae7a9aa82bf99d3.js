(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[505],{8626:function(e,t,s){"use strict";s.d(t,{L:function(){return he}});var n=s(2212);const r=new WeakMap;class i extends n.Loader{constructor(e){super(e),this.decoderPath="",this.decoderConfig={},this.decoderBinary=null,this.decoderPending=null,this.workerLimit=4,this.workerPool=[],this.workerNextTaskID=1,this.workerSourceURL="",this.defaultAttributeIDs={position:"POSITION",normal:"NORMAL",color:"COLOR",uv:"TEX_COORD"},this.defaultAttributeTypes={position:"Float32Array",normal:"Float32Array",color:"Float32Array",uv:"Float32Array"}}setDecoderPath(e){return this.decoderPath=e,this}setDecoderConfig(e){return this.decoderConfig=e,this}setWorkerLimit(e){return this.workerLimit=e,this}load(e,t,s,r){const i=new n.FileLoader(this.manager);i.setPath(this.path),i.setResponseType("arraybuffer"),i.setRequestHeader(this.requestHeader),i.setWithCredentials(this.withCredentials),i.load(e,(e=>{const s={attributeIDs:this.defaultAttributeIDs,attributeTypes:this.defaultAttributeTypes,useUniqueIDs:!1};this.decodeGeometry(e,s).then(t).catch(r)}),s,r)}decodeDracoFile(e,t,s,n){const r={attributeIDs:s||this.defaultAttributeIDs,attributeTypes:n||this.defaultAttributeTypes,useUniqueIDs:!!s};this.decodeGeometry(e,r).then(t)}decodeGeometry(e,t){for(const r in t.attributeTypes){const e=t.attributeTypes[r];void 0!==e.BYTES_PER_ELEMENT&&(t.attributeTypes[r]=e.name)}const s=JSON.stringify(t);if(r.has(e)){const t=r.get(e);if(t.key===s)return t.promise;if(0===e.byteLength)throw new Error("THREE.DRACOLoader: Unable to re-decode a buffer with different settings. Buffer has already been transferred.")}let n;const i=this.workerNextTaskID++,o=e.byteLength,a=this._getWorker(i,o).then((s=>(n=s,new Promise(((s,r)=>{n._callbacks[i]={resolve:s,reject:r},n.postMessage({type:"decode",id:i,taskConfig:t,buffer:e},[e])}))))).then((e=>this._createGeometry(e.geometry)));return a.catch((()=>!0)).then((()=>{n&&i&&this._releaseTask(n,i)})),r.set(e,{key:s,promise:a}),a}_createGeometry(e){const t=new n.BufferGeometry;e.index&&t.setIndex(new n.BufferAttribute(e.index.array,1));for(let s=0;s<e.attributes.length;s++){const r=e.attributes[s],i=r.name,o=r.array,a=r.itemSize;t.setAttribute(i,new n.BufferAttribute(o,a))}return t}_loadLibrary(e,t){const s=new n.FileLoader(this.manager);return s.setPath(this.decoderPath),s.setResponseType(t),s.setWithCredentials(this.withCredentials),new Promise(((t,n)=>{s.load(e,t,void 0,n)}))}preload(){return this._initDecoder(),this}_initDecoder(){if(this.decoderPending)return this.decoderPending;const e="object"!==typeof WebAssembly||"js"===this.decoderConfig.type,t=[];return e?t.push(this._loadLibrary("draco_decoder.js","text")):(t.push(this._loadLibrary("draco_wasm_wrapper.js","text")),t.push(this._loadLibrary("draco_decoder.wasm","arraybuffer"))),this.decoderPending=Promise.all(t).then((t=>{const s=t[0];e||(this.decoderConfig.wasmBinary=t[1]);const n=o.toString(),r=["/* draco decoder */",s,"","/* worker */",n.substring(n.indexOf("{")+1,n.lastIndexOf("}"))].join("\n");this.workerSourceURL=URL.createObjectURL(new Blob([r]))})),this.decoderPending}_getWorker(e,t){return this._initDecoder().then((()=>{if(this.workerPool.length<this.workerLimit){const e=new Worker(this.workerSourceURL);e._callbacks={},e._taskCosts={},e._taskLoad=0,e.postMessage({type:"init",decoderConfig:this.decoderConfig}),e.onmessage=function(t){const s=t.data;switch(s.type){case"decode":e._callbacks[s.id].resolve(s);break;case"error":e._callbacks[s.id].reject(s);break;default:console.error('THREE.DRACOLoader: Unexpected message, "'+s.type+'"')}},this.workerPool.push(e)}else this.workerPool.sort((function(e,t){return e._taskLoad>t._taskLoad?-1:1}));const s=this.workerPool[this.workerPool.length-1];return s._taskCosts[e]=t,s._taskLoad+=t,s}))}_releaseTask(e,t){e._taskLoad-=e._taskCosts[t],delete e._callbacks[t],delete e._taskCosts[t]}debug(){console.log("Task load: ",this.workerPool.map((e=>e._taskLoad)))}dispose(){for(let e=0;e<this.workerPool.length;++e)this.workerPool[e].terminate();return this.workerPool.length=0,this}}function o(){let e,t;function s(e,t,s,n,r,i){const o=i.num_components(),a=s.num_points()*o,c=a*r.BYTES_PER_ELEMENT,u=function(e,t){switch(t){case Float32Array:return e.DT_FLOAT32;case Int8Array:return e.DT_INT8;case Int16Array:return e.DT_INT16;case Int32Array:return e.DT_INT32;case Uint8Array:return e.DT_UINT8;case Uint16Array:return e.DT_UINT16;case Uint32Array:return e.DT_UINT32}}(e,r),l=e._malloc(c);t.GetAttributeDataArrayForAllPoints(s,i,u,c,l);const h=new r(e.HEAPF32.buffer,l,a).slice();return e._free(l),{name:n,array:h,itemSize:o}}onmessage=function(n){const r=n.data;switch(r.type){case"init":e=r.decoderConfig,t=new Promise((function(t){e.onModuleLoaded=function(e){t({draco:e})},DracoDecoderModule(e)}));break;case"decode":const n=r.buffer,i=r.taskConfig;t.then((e=>{const t=e.draco,o=new t.Decoder,a=new t.DecoderBuffer;a.Init(new Int8Array(n),n.byteLength);try{const e=function(e,t,n,r){const i=r.attributeIDs,o=r.attributeTypes;let a,c;const u=t.GetEncodedGeometryType(n);if(u===e.TRIANGULAR_MESH)a=new e.Mesh,c=t.DecodeBufferToMesh(n,a);else{if(u!==e.POINT_CLOUD)throw new Error("THREE.DRACOLoader: Unexpected geometry type.");a=new e.PointCloud,c=t.DecodeBufferToPointCloud(n,a)}if(!c.ok()||0===a.ptr)throw new Error("THREE.DRACOLoader: Decoding failed: "+c.error_msg());const l={index:null,attributes:[]};for(const h in i){const n=self[o[h]];let c,u;if(r.useUniqueIDs)u=i[h],c=t.GetAttributeByUniqueId(a,u);else{if(u=t.GetAttributeId(a,e[i[h]]),-1===u)continue;c=t.GetAttribute(a,u)}l.attributes.push(s(e,t,a,h,n,c))}u===e.TRIANGULAR_MESH&&(l.index=function(e,t,s){const n=3*s.num_faces(),r=4*n,i=e._malloc(r);t.GetTrianglesUInt32Array(s,r,i);const o=new Uint32Array(e.HEAPF32.buffer,i,n).slice();return e._free(i),{array:o,itemSize:1}}(e,t,a));return e.destroy(a),l}(t,o,a,i),n=e.attributes.map((e=>e.array.buffer));e.index&&n.push(e.index.array.buffer),self.postMessage({type:"decode",id:r.id,geometry:e},n)}catch(c){console.error(c),self.postMessage({type:"error",id:r.id,error:c.message})}finally{t.destroy(a),t.destroy(o)}}))}}}let a;const c=()=>{if(a)return a;const e=new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,3,2,0,0,5,3,1,0,1,12,1,0,10,22,2,12,0,65,0,65,0,65,0,252,10,0,0,11,7,0,65,0,253,15,26,11]),t=new Uint8Array([32,0,65,253,3,1,2,34,4,106,6,5,11,8,7,20,13,33,12,16,128,9,116,64,19,113,127,15,10,21,22,14,255,66,24,54,136,107,18,23,192,26,114,118,132,17,77,101,130,144,27,87,131,44,45,74,156,154,70,167]);if("object"!==typeof WebAssembly)return{supported:!1};let s,n="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";WebAssembly.validate(e)&&(n="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");const r=WebAssembly.instantiate(function(e){const s=new Uint8Array(e.length);for(let t=0;t<e.length;++t){const n=e.charCodeAt(t);s[t]=n>96?n-71:n>64?n-65:n>47?n+4:n>46?63:62}let n=0;for(let r=0;r<e.length;++r)s[n++]=s[r]<60?t[s[r]]:64*(s[r]-60)+s[++r];return s.buffer.slice(0,n)}(n),{}).then((e=>{s=e.instance,s.exports.__wasm_call_ctors()}));function i(e,t,n,r,i,o){const a=s.exports.sbrk,c=n+3&-4,u=a(c*r),l=a(i.length),h=new Uint8Array(s.exports.memory.buffer);h.set(i,l);const d=e(u,n,r,l,i.length);if(0===d&&o&&o(u,c,r),t.set(h.subarray(u,u+n*r)),a(u-a(0)),0!==d)throw new Error(`Malformed buffer data: ${d}`)}const o={0:"",1:"meshopt_decodeFilterOct",2:"meshopt_decodeFilterQuat",3:"meshopt_decodeFilterExp",NONE:"",OCTAHEDRAL:"meshopt_decodeFilterOct",QUATERNION:"meshopt_decodeFilterQuat",EXPONENTIAL:"meshopt_decodeFilterExp"},c={0:"meshopt_decodeVertexBuffer",1:"meshopt_decodeIndexBuffer",2:"meshopt_decodeIndexSequence",ATTRIBUTES:"meshopt_decodeVertexBuffer",TRIANGLES:"meshopt_decodeIndexBuffer",INDICES:"meshopt_decodeIndexSequence"};return a={ready:r,supported:!0,decodeVertexBuffer(e,t,n,r,a){i(s.exports.meshopt_decodeVertexBuffer,e,t,n,r,s.exports[o[a]])},decodeIndexBuffer(e,t,n,r){i(s.exports.meshopt_decodeIndexBuffer,e,t,n,r)},decodeIndexSequence(e,t,n,r){i(s.exports.meshopt_decodeIndexSequence,e,t,n,r)},decodeGltfBuffer(e,t,n,r,a,u){i(s.exports[c[a]],e,t,n,r,s.exports[o[u]])}},a};class u extends n.Loader{constructor(e){super(e),this.dracoLoader=null,this.ktx2Loader=null,this.meshoptDecoder=null,this.pluginCallbacks=[],this.register((function(e){return new B(e)})),this.register((function(e){return new M(e)})),this.register((function(e){return new v(e)})),this.register((function(e){return new p(e)})),this.register((function(e){return new f(e)})),this.register((function(e){return new m(e)})),this.register((function(e){return new C(e)})),this.register((function(e){return new g(e)})),this.register((function(e){return new d(e)})),this.register((function(e){return new E(e)}))}load(e,t,s,r){const i=this;let o;o=""!==this.resourcePath?this.resourcePath:""!==this.path?this.path:n.LoaderUtils.extractUrlBase(e),this.manager.itemStart(e);const a=function(t){r?r(t):console.error(t),i.manager.itemError(e),i.manager.itemEnd(e)},c=new n.FileLoader(this.manager);c.setPath(this.path),c.setResponseType("arraybuffer"),c.setRequestHeader(this.requestHeader),c.setWithCredentials(this.withCredentials),c.load(e,(function(s){try{i.parse(s,o,(function(s){t(s),i.manager.itemEnd(e)}),a)}catch(n){a(n)}}),s,a)}setDRACOLoader(e){return this.dracoLoader=e,this}setDDSLoader(){throw new Error('THREE.GLTFLoader: "MSFT_texture_dds" no longer supported. Please update to "KHR_texture_basisu".')}setKTX2Loader(e){return this.ktx2Loader=e,this}setMeshoptDecoder(e){return this.meshoptDecoder=e,this}register(e){return-1===this.pluginCallbacks.indexOf(e)&&this.pluginCallbacks.push(e),this}unregister(e){return-1!==this.pluginCallbacks.indexOf(e)&&this.pluginCallbacks.splice(this.pluginCallbacks.indexOf(e),1),this}parse(e,t,s,r){let i;const o={},a={};if("string"===typeof e)i=e;else{if(n.LoaderUtils.decodeText(new Uint8Array(e,0,4))===F){try{o[h.KHR_BINARY_GLTF]=new G(e)}catch(l){return void(r&&r(l))}i=o[h.KHR_BINARY_GLTF].content}else i=n.LoaderUtils.decodeText(new Uint8Array(e))}const c=JSON.parse(i);if(void 0===c.asset||c.asset.version[0]<2)return void(r&&r(new Error("THREE.GLTFLoader: Unsupported asset. glTF versions >=2.0 are supported.")));const u=new re(c,{path:t||this.resourcePath||"",crossOrigin:this.crossOrigin,requestHeader:this.requestHeader,manager:this.manager,ktx2Loader:this.ktx2Loader,meshoptDecoder:this.meshoptDecoder});u.fileLoader.setRequestHeader(this.requestHeader);for(let n=0;n<this.pluginCallbacks.length;n++){const e=this.pluginCallbacks[n](u);a[e.name]=e,o[e.name]=!0}if(c.extensionsUsed)for(let n=0;n<c.extensionsUsed.length;++n){const e=c.extensionsUsed[n],t=c.extensionsRequired||[];switch(e){case h.KHR_MATERIALS_UNLIT:o[e]=new A;break;case h.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS:o[e]=new H;break;case h.KHR_DRACO_MESH_COMPRESSION:o[e]=new b(c,this.dracoLoader);break;case h.KHR_TEXTURE_TRANSFORM:o[e]=new D;break;case h.KHR_MESH_QUANTIZATION:o[e]=new _;break;default:t.indexOf(e)>=0&&void 0===a[e]&&console.warn('THREE.GLTFLoader: Unknown extension "'+e+'".')}}u.setExtensions(o),u.setPlugins(a),u.parse(s,r)}parseAsync(e,t){const s=this;return new Promise((function(n,r){s.parse(e,t,n,r)}))}}function l(){let e={};return{get:function(t){return e[t]},add:function(t,s){e[t]=s},remove:function(t){delete e[t]},removeAll:function(){e={}}}}const h={KHR_BINARY_GLTF:"KHR_binary_glTF",KHR_DRACO_MESH_COMPRESSION:"KHR_draco_mesh_compression",KHR_LIGHTS_PUNCTUAL:"KHR_lights_punctual",KHR_MATERIALS_CLEARCOAT:"KHR_materials_clearcoat",KHR_MATERIALS_IOR:"KHR_materials_ior",KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS:"KHR_materials_pbrSpecularGlossiness",KHR_MATERIALS_SHEEN:"KHR_materials_sheen",KHR_MATERIALS_SPECULAR:"KHR_materials_specular",KHR_MATERIALS_TRANSMISSION:"KHR_materials_transmission",KHR_MATERIALS_UNLIT:"KHR_materials_unlit",KHR_MATERIALS_VOLUME:"KHR_materials_volume",KHR_TEXTURE_BASISU:"KHR_texture_basisu",KHR_TEXTURE_TRANSFORM:"KHR_texture_transform",KHR_MESH_QUANTIZATION:"KHR_mesh_quantization",EXT_TEXTURE_WEBP:"EXT_texture_webp",EXT_MESHOPT_COMPRESSION:"EXT_meshopt_compression"};class d{constructor(e){this.parser=e,this.name=h.KHR_LIGHTS_PUNCTUAL,this.cache={refs:{},uses:{}}}_markDefs(){const e=this.parser,t=this.parser.json.nodes||[];for(let s=0,n=t.length;s<n;s++){const n=t[s];n.extensions&&n.extensions[this.name]&&void 0!==n.extensions[this.name].light&&e._addNodeRef(this.cache,n.extensions[this.name].light)}}_loadLight(e){const t=this.parser,s="light:"+e;let r=t.cache.get(s);if(r)return r;const i=t.json,o=((i.extensions&&i.extensions[this.name]||{}).lights||[])[e];let a;const c=new n.Color(16777215);void 0!==o.color&&c.fromArray(o.color);const u=void 0!==o.range?o.range:0;switch(o.type){case"directional":a=new n.DirectionalLight(c),a.target.position.set(0,0,-1),a.add(a.target);break;case"point":a=new n.PointLight(c),a.distance=u;break;case"spot":a=new n.SpotLight(c),a.distance=u,o.spot=o.spot||{},o.spot.innerConeAngle=void 0!==o.spot.innerConeAngle?o.spot.innerConeAngle:0,o.spot.outerConeAngle=void 0!==o.spot.outerConeAngle?o.spot.outerConeAngle:Math.PI/4,a.angle=o.spot.outerConeAngle,a.penumbra=1-o.spot.innerConeAngle/o.spot.outerConeAngle,a.target.position.set(0,0,-1),a.add(a.target);break;default:throw new Error("THREE.GLTFLoader: Unexpected light type: "+o.type)}return a.position.set(0,0,0),a.decay=2,void 0!==o.intensity&&(a.intensity=o.intensity),a.name=t.createUniqueName(o.name||"light_"+e),r=Promise.resolve(a),t.cache.add(s,r),r}createNodeAttachment(e){const t=this,s=this.parser,n=s.json.nodes[e],r=(n.extensions&&n.extensions[this.name]||{}).light;return void 0===r?null:this._loadLight(r).then((function(e){return s._getNodeRef(t.cache,r,e)}))}}class A{constructor(){this.name=h.KHR_MATERIALS_UNLIT}getMaterialType(){return n.MeshBasicMaterial}extendParams(e,t,s){const r=[];e.color=new n.Color(1,1,1),e.opacity=1;const i=t.pbrMetallicRoughness;if(i){if(Array.isArray(i.baseColorFactor)){const t=i.baseColorFactor;e.color.fromArray(t),e.opacity=t[3]}void 0!==i.baseColorTexture&&r.push(s.assignTexture(e,"map",i.baseColorTexture))}return Promise.all(r)}}class B{constructor(e){this.parser=e,this.name=h.KHR_MATERIALS_CLEARCOAT}getMaterialType(e){const t=this.parser.json.materials[e];return t.extensions&&t.extensions[this.name]?n.MeshPhysicalMaterial:null}extendMaterialParams(e,t){const s=this.parser,r=s.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();const i=[],o=r.extensions[this.name];if(void 0!==o.clearcoatFactor&&(t.clearcoat=o.clearcoatFactor),void 0!==o.clearcoatTexture&&i.push(s.assignTexture(t,"clearcoatMap",o.clearcoatTexture)),void 0!==o.clearcoatRoughnessFactor&&(t.clearcoatRoughness=o.clearcoatRoughnessFactor),void 0!==o.clearcoatRoughnessTexture&&i.push(s.assignTexture(t,"clearcoatRoughnessMap",o.clearcoatRoughnessTexture)),void 0!==o.clearcoatNormalTexture&&(i.push(s.assignTexture(t,"clearcoatNormalMap",o.clearcoatNormalTexture)),void 0!==o.clearcoatNormalTexture.scale)){const e=o.clearcoatNormalTexture.scale;t.clearcoatNormalScale=new n.Vector2(e,e)}return Promise.all(i)}}class p{constructor(e){this.parser=e,this.name=h.KHR_MATERIALS_SHEEN}getMaterialType(e){const t=this.parser.json.materials[e];return t.extensions&&t.extensions[this.name]?n.MeshPhysicalMaterial:null}extendMaterialParams(e,t){const s=this.parser,r=s.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();const i=[];t.sheenColor=new n.Color(0,0,0),t.sheenRoughness=0,t.sheen=1;const o=r.extensions[this.name];return void 0!==o.sheenColorFactor&&t.sheenColor.fromArray(o.sheenColorFactor),void 0!==o.sheenRoughnessFactor&&(t.sheenRoughness=o.sheenRoughnessFactor),void 0!==o.sheenColorTexture&&i.push(s.assignTexture(t,"sheenColorMap",o.sheenColorTexture)),void 0!==o.sheenRoughnessTexture&&i.push(s.assignTexture(t,"sheenRoughnessMap",o.sheenRoughnessTexture)),Promise.all(i)}}class f{constructor(e){this.parser=e,this.name=h.KHR_MATERIALS_TRANSMISSION}getMaterialType(e){const t=this.parser.json.materials[e];return t.extensions&&t.extensions[this.name]?n.MeshPhysicalMaterial:null}extendMaterialParams(e,t){const s=this.parser,n=s.json.materials[e];if(!n.extensions||!n.extensions[this.name])return Promise.resolve();const r=[],i=n.extensions[this.name];return void 0!==i.transmissionFactor&&(t.transmission=i.transmissionFactor),void 0!==i.transmissionTexture&&r.push(s.assignTexture(t,"transmissionMap",i.transmissionTexture)),Promise.all(r)}}class m{constructor(e){this.parser=e,this.name=h.KHR_MATERIALS_VOLUME}getMaterialType(e){const t=this.parser.json.materials[e];return t.extensions&&t.extensions[this.name]?n.MeshPhysicalMaterial:null}extendMaterialParams(e,t){const s=this.parser,r=s.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();const i=[],o=r.extensions[this.name];t.thickness=void 0!==o.thicknessFactor?o.thicknessFactor:0,void 0!==o.thicknessTexture&&i.push(s.assignTexture(t,"thicknessMap",o.thicknessTexture)),t.attenuationDistance=o.attenuationDistance||0;const a=o.attenuationColor||[1,1,1];return t.attenuationColor=new n.Color(a[0],a[1],a[2]),Promise.all(i)}}class C{constructor(e){this.parser=e,this.name=h.KHR_MATERIALS_IOR}getMaterialType(e){const t=this.parser.json.materials[e];return t.extensions&&t.extensions[this.name]?n.MeshPhysicalMaterial:null}extendMaterialParams(e,t){const s=this.parser.json.materials[e];if(!s.extensions||!s.extensions[this.name])return Promise.resolve();const n=s.extensions[this.name];return t.ior=void 0!==n.ior?n.ior:1.5,Promise.resolve()}}class g{constructor(e){this.parser=e,this.name=h.KHR_MATERIALS_SPECULAR}getMaterialType(e){const t=this.parser.json.materials[e];return t.extensions&&t.extensions[this.name]?n.MeshPhysicalMaterial:null}extendMaterialParams(e,t){const s=this.parser,r=s.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();const i=[],o=r.extensions[this.name];t.specularIntensity=void 0!==o.specularFactor?o.specularFactor:1,void 0!==o.specularTexture&&i.push(s.assignTexture(t,"specularIntensityMap",o.specularTexture));const a=o.specularColorFactor||[1,1,1];return t.specularColor=new n.Color(a[0],a[1],a[2]),void 0!==o.specularColorTexture&&i.push(s.assignTexture(t,"specularColorMap",o.specularColorTexture).then((function(e){e.encoding=n.sRGBEncoding}))),Promise.all(i)}}class M{constructor(e){this.parser=e,this.name=h.KHR_TEXTURE_BASISU}loadTexture(e){const t=this.parser,s=t.json,n=s.textures[e];if(!n.extensions||!n.extensions[this.name])return null;const r=n.extensions[this.name],i=s.images[r.source],o=t.options.ktx2Loader;if(!o){if(s.extensionsRequired&&s.extensionsRequired.indexOf(this.name)>=0)throw new Error("THREE.GLTFLoader: setKTX2Loader must be called before loading KTX2 textures");return null}return t.loadTextureImage(e,i,o)}}class v{constructor(e){this.parser=e,this.name=h.EXT_TEXTURE_WEBP,this.isSupported=null}loadTexture(e){const t=this.name,s=this.parser,n=s.json,r=n.textures[e];if(!r.extensions||!r.extensions[t])return null;const i=r.extensions[t],o=n.images[i.source];let a=s.textureLoader;if(o.uri){const e=s.options.manager.getHandler(o.uri);null!==e&&(a=e)}return this.detectSupport().then((function(r){if(r)return s.loadTextureImage(e,o,a);if(n.extensionsRequired&&n.extensionsRequired.indexOf(t)>=0)throw new Error("THREE.GLTFLoader: WebP required by asset but unsupported.");return s.loadTexture(e)}))}detectSupport(){return this.isSupported||(this.isSupported=new Promise((function(e){const t=new Image;t.src="data:image/webp;base64,UklGRiIAAABXRUJQVlA4IBYAAAAwAQCdASoBAAEADsD+JaQAA3AAAAAA",t.onload=t.onerror=function(){e(1===t.height)}}))),this.isSupported}}class E{constructor(e){this.name=h.EXT_MESHOPT_COMPRESSION,this.parser=e}loadBufferView(e){const t=this.parser.json,s=t.bufferViews[e];if(s.extensions&&s.extensions[this.name]){const e=s.extensions[this.name],n=this.parser.getDependency("buffer",e.buffer),r=this.parser.options.meshoptDecoder;if(!r||!r.supported){if(t.extensionsRequired&&t.extensionsRequired.indexOf(this.name)>=0)throw new Error("THREE.GLTFLoader: setMeshoptDecoder must be called before loading compressed files");return null}return Promise.all([n,r.ready]).then((function(t){const s=e.byteOffset||0,n=e.byteLength||0,i=e.count,o=e.byteStride,a=new ArrayBuffer(i*o),c=new Uint8Array(t[0],s,n);return r.decodeGltfBuffer(new Uint8Array(a),i,o,c,e.mode,e.filter),a}))}return null}}const F="glTF",y=1313821514,I=5130562;class G{constructor(e){this.name=h.KHR_BINARY_GLTF,this.content=null,this.body=null;const t=new DataView(e,0,12);if(this.header={magic:n.LoaderUtils.decodeText(new Uint8Array(e.slice(0,4))),version:t.getUint32(4,!0),length:t.getUint32(8,!0)},this.header.magic!==F)throw new Error("THREE.GLTFLoader: Unsupported glTF-Binary header.");if(this.header.version<2)throw new Error("THREE.GLTFLoader: Legacy binary file detected.");const s=this.header.length-12,r=new DataView(e,12);let i=0;for(;i<s;){const t=r.getUint32(i,!0);i+=4;const s=r.getUint32(i,!0);if(i+=4,s===y){const s=new Uint8Array(e,12+i,t);this.content=n.LoaderUtils.decodeText(s)}else if(s===I){const s=12+i;this.body=e.slice(s,s+t)}i+=t}if(null===this.content)throw new Error("THREE.GLTFLoader: JSON content not found.")}}class b{constructor(e,t){if(!t)throw new Error("THREE.GLTFLoader: No DRACOLoader instance provided.");this.name=h.KHR_DRACO_MESH_COMPRESSION,this.json=e,this.dracoLoader=t,this.dracoLoader.preload()}decodePrimitive(e,t){const s=this.json,n=this.dracoLoader,r=e.extensions[this.name].bufferView,i=e.extensions[this.name].attributes,o={},a={},c={};for(const u in i){const e=j[u]||u.toLowerCase();o[e]=i[u]}for(const u in e.attributes){const t=j[u]||u.toLowerCase();if(void 0!==i[u]){const n=s.accessors[e.attributes[u]],r=k[n.componentType];c[t]=r,a[t]=!0===n.normalized}}return t.getDependency("bufferView",r).then((function(e){return new Promise((function(t){n.decodeDracoFile(e,(function(e){for(const t in e.attributes){const s=e.attributes[t],n=a[t];void 0!==n&&(s.normalized=n)}t(e)}),o,c)}))}))}}class D{constructor(){this.name=h.KHR_TEXTURE_TRANSFORM}extendTexture(e,t){return void 0!==t.texCoord&&console.warn('THREE.GLTFLoader: Custom UV sets in "'+this.name+'" extension not yet supported.'),void 0===t.offset&&void 0===t.rotation&&void 0===t.scale||(e=e.clone(),void 0!==t.offset&&e.offset.fromArray(t.offset),void 0!==t.rotation&&(e.rotation=t.rotation),void 0!==t.scale&&e.repeat.fromArray(t.scale),e.needsUpdate=!0),e}}class R extends n.MeshStandardMaterial{constructor(e){super(),this.isGLTFSpecularGlossinessMaterial=!0;const t=["#ifdef USE_SPECULARMAP","\tuniform sampler2D specularMap;","#endif"].join("\n"),s=["#ifdef USE_GLOSSINESSMAP","\tuniform sampler2D glossinessMap;","#endif"].join("\n"),r=["vec3 specularFactor = specular;","#ifdef USE_SPECULARMAP","\tvec4 texelSpecular = texture2D( specularMap, vUv );","\t// reads channel RGB, compatible with a glTF Specular-Glossiness (RGBA) texture","\tspecularFactor *= texelSpecular.rgb;","#endif"].join("\n"),i=["float glossinessFactor = glossiness;","#ifdef USE_GLOSSINESSMAP","\tvec4 texelGlossiness = texture2D( glossinessMap, vUv );","\t// reads channel A, compatible with a glTF Specular-Glossiness (RGBA) texture","\tglossinessFactor *= texelGlossiness.a;","#endif"].join("\n"),o=["PhysicalMaterial material;","material.diffuseColor = diffuseColor.rgb * ( 1. - max( specularFactor.r, max( specularFactor.g, specularFactor.b ) ) );","vec3 dxy = max( abs( dFdx( geometryNormal ) ), abs( dFdy( geometryNormal ) ) );","float geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );","material.roughness = max( 1.0 - glossinessFactor, 0.0525 ); // 0.0525 corresponds to the base mip of a 256 cubemap.","material.roughness += geometryRoughness;","material.roughness = min( material.roughness, 1.0 );","material.specularColor = specularFactor;"].join("\n"),a={specular:{value:(new n.Color).setHex(16777215)},glossiness:{value:1},specularMap:{value:null},glossinessMap:{value:null}};this._extraUniforms=a,this.onBeforeCompile=function(e){for(const t in a)e.uniforms[t]=a[t];e.fragmentShader=e.fragmentShader.replace("uniform float roughness;","uniform vec3 specular;").replace("uniform float metalness;","uniform float glossiness;").replace("#include <roughnessmap_pars_fragment>",t).replace("#include <metalnessmap_pars_fragment>",s).replace("#include <roughnessmap_fragment>",r).replace("#include <metalnessmap_fragment>",i).replace("#include <lights_physical_fragment>",o)},Object.defineProperties(this,{specular:{get:function(){return a.specular.value},set:function(e){a.specular.value=e}},specularMap:{get:function(){return a.specularMap.value},set:function(e){a.specularMap.value=e,e?this.defines.USE_SPECULARMAP="":delete this.defines.USE_SPECULARMAP}},glossiness:{get:function(){return a.glossiness.value},set:function(e){a.glossiness.value=e}},glossinessMap:{get:function(){return a.glossinessMap.value},set:function(e){a.glossinessMap.value=e,e?(this.defines.USE_GLOSSINESSMAP="",this.defines.USE_UV=""):(delete this.defines.USE_GLOSSINESSMAP,delete this.defines.USE_UV)}}}),delete this.metalness,delete this.roughness,delete this.metalnessMap,delete this.roughnessMap,this.setValues(e)}copy(e){return super.copy(e),this.specularMap=e.specularMap,this.specular.copy(e.specular),this.glossinessMap=e.glossinessMap,this.glossiness=e.glossiness,delete this.metalness,delete this.roughness,delete this.metalnessMap,delete this.roughnessMap,this}}class H{constructor(){this.name=h.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS,this.specularGlossinessParams=["color","map","lightMap","lightMapIntensity","aoMap","aoMapIntensity","emissive","emissiveIntensity","emissiveMap","bumpMap","bumpScale","normalMap","normalMapType","displacementMap","displacementScale","displacementBias","specularMap","specular","glossinessMap","glossiness","alphaMap","envMap","envMapIntensity","refractionRatio"]}getMaterialType(){return R}extendParams(e,t,s){const r=t.extensions[this.name];e.color=new n.Color(1,1,1),e.opacity=1;const i=[];if(Array.isArray(r.diffuseFactor)){const t=r.diffuseFactor;e.color.fromArray(t),e.opacity=t[3]}if(void 0!==r.diffuseTexture&&i.push(s.assignTexture(e,"map",r.diffuseTexture)),e.emissive=new n.Color(0,0,0),e.glossiness=void 0!==r.glossinessFactor?r.glossinessFactor:1,e.specular=new n.Color(1,1,1),Array.isArray(r.specularFactor)&&e.specular.fromArray(r.specularFactor),void 0!==r.specularGlossinessTexture){const t=r.specularGlossinessTexture;i.push(s.assignTexture(e,"glossinessMap",t)),i.push(s.assignTexture(e,"specularMap",t))}return Promise.all(i)}createMaterial(e){const t=new R(e);return t.fog=!0,t.color=e.color,t.map=void 0===e.map?null:e.map,t.lightMap=null,t.lightMapIntensity=1,t.aoMap=void 0===e.aoMap?null:e.aoMap,t.aoMapIntensity=1,t.emissive=e.emissive,t.emissiveIntensity=1,t.emissiveMap=void 0===e.emissiveMap?null:e.emissiveMap,t.bumpMap=void 0===e.bumpMap?null:e.bumpMap,t.bumpScale=1,t.normalMap=void 0===e.normalMap?null:e.normalMap,t.normalMapType=n.TangentSpaceNormalMap,e.normalScale&&(t.normalScale=e.normalScale),t.displacementMap=null,t.displacementScale=1,t.displacementBias=0,t.specularMap=void 0===e.specularMap?null:e.specularMap,t.specular=e.specular,t.glossinessMap=void 0===e.glossinessMap?null:e.glossinessMap,t.glossiness=e.glossiness,t.alphaMap=null,t.envMap=void 0===e.envMap?null:e.envMap,t.envMapIntensity=1,t.refractionRatio=.98,t}}class _{constructor(){this.name=h.KHR_MESH_QUANTIZATION}}class T extends n.Interpolant{constructor(e,t,s,n){super(e,t,s,n)}copySampleValue_(e){const t=this.resultBuffer,s=this.sampleValues,n=this.valueSize,r=e*n*3+n;for(let i=0;i!==n;i++)t[i]=s[r+i];return t}}T.prototype.beforeStart_=T.prototype.copySampleValue_,T.prototype.afterEnd_=T.prototype.copySampleValue_,T.prototype.interpolate_=function(e,t,s,n){const r=this.resultBuffer,i=this.sampleValues,o=this.valueSize,a=2*o,c=3*o,u=n-t,l=(s-t)/u,h=l*l,d=h*l,A=e*c,B=A-c,p=-2*d+3*h,f=d-h,m=1-p,C=f-h+l;for(let g=0;g!==o;g++){const e=i[B+g+o],t=i[B+g+a]*u,s=i[A+g+o],n=i[A+g]*u;r[g]=m*e+C*t+p*s+f*n}return r};const J=new n.Quaternion;class w extends T{interpolate_(e,t,s,n){const r=super.interpolate_(e,t,s,n);return J.fromArray(r).normalize().toArray(r),r}}const S=0,P=1,L=2,O=3,x=4,U=5,K=6,k={5120:Int8Array,5121:Uint8Array,5122:Int16Array,5123:Uint16Array,5125:Uint32Array,5126:Float32Array},Q={9728:n.NearestFilter,9729:n.LinearFilter,9984:n.NearestMipmapNearestFilter,9985:n.LinearMipmapNearestFilter,9986:n.NearestMipmapLinearFilter,9987:n.LinearMipmapLinearFilter},N={33071:n.ClampToEdgeWrapping,33648:n.MirroredRepeatWrapping,10497:n.RepeatWrapping},X={SCALAR:1,VEC2:2,VEC3:3,VEC4:4,MAT2:4,MAT3:9,MAT4:16},j={POSITION:"position",NORMAL:"normal",TANGENT:"tangent",TEXCOORD_0:"uv",TEXCOORD_1:"uv2",COLOR_0:"color",WEIGHTS_0:"skinWeight",JOINTS_0:"skinIndex"},Y={scale:"scale",translation:"position",rotation:"quaternion",weights:"morphTargetInfluences"},V={CUBICSPLINE:void 0,LINEAR:n.InterpolateLinear,STEP:n.InterpolateDiscrete},Z="OPAQUE",W="MASK",q="BLEND";function z(e,t,s){for(const n in s.extensions)void 0===e[n]&&(t.userData.gltfExtensions=t.userData.gltfExtensions||{},t.userData.gltfExtensions[n]=s.extensions[n])}function $(e,t){void 0!==t.extras&&("object"===typeof t.extras?Object.assign(e.userData,t.extras):console.warn("THREE.GLTFLoader: Ignoring primitive type .extras, "+t.extras))}function ee(e,t){if(e.updateMorphTargets(),void 0!==t.weights)for(let s=0,n=t.weights.length;s<n;s++)e.morphTargetInfluences[s]=t.weights[s];if(t.extras&&Array.isArray(t.extras.targetNames)){const s=t.extras.targetNames;if(e.morphTargetInfluences.length===s.length){e.morphTargetDictionary={};for(let t=0,n=s.length;t<n;t++)e.morphTargetDictionary[s[t]]=t}else console.warn("THREE.GLTFLoader: Invalid extras.targetNames length. Ignoring names.")}}function te(e){const t=e.extensions&&e.extensions[h.KHR_DRACO_MESH_COMPRESSION];let s;return s=t?"draco:"+t.bufferView+":"+t.indices+":"+se(t.attributes):e.indices+":"+se(e.attributes)+":"+e.mode,s}function se(e){let t="";const s=Object.keys(e).sort();for(let n=0,r=s.length;n<r;n++)t+=s[n]+":"+e[s[n]]+";";return t}function ne(e){switch(e){case Int8Array:return 1/127;case Uint8Array:return 1/255;case Int16Array:return 1/32767;case Uint16Array:return 1/65535;default:throw new Error("THREE.GLTFLoader: Unsupported normalized accessor component type.")}}class re{constructor(e={},t={}){this.json=e,this.extensions={},this.plugins={},this.options=t,this.cache=new l,this.associations=new Map,this.primitiveCache={},this.meshCache={refs:{},uses:{}},this.cameraCache={refs:{},uses:{}},this.lightCache={refs:{},uses:{}},this.textureCache={},this.nodeNamesUsed={},"undefined"!==typeof createImageBitmap&&!1===/Firefox|^((?!chrome|android).)*safari/i.test(navigator.userAgent)?this.textureLoader=new n.ImageBitmapLoader(this.options.manager):this.textureLoader=new n.TextureLoader(this.options.manager),this.textureLoader.setCrossOrigin(this.options.crossOrigin),this.textureLoader.setRequestHeader(this.options.requestHeader),this.fileLoader=new n.FileLoader(this.options.manager),this.fileLoader.setResponseType("arraybuffer"),"use-credentials"===this.options.crossOrigin&&this.fileLoader.setWithCredentials(!0)}setExtensions(e){this.extensions=e}setPlugins(e){this.plugins=e}parse(e,t){const s=this,n=this.json,r=this.extensions;this.cache.removeAll(),this._invokeAll((function(e){return e._markDefs&&e._markDefs()})),Promise.all(this._invokeAll((function(e){return e.beforeRoot&&e.beforeRoot()}))).then((function(){return Promise.all([s.getDependencies("scene"),s.getDependencies("animation"),s.getDependencies("camera")])})).then((function(t){const i={scene:t[0][n.scene||0],scenes:t[0],animations:t[1],cameras:t[2],asset:n.asset,parser:s,userData:{}};z(r,i,n),$(i,n),Promise.all(s._invokeAll((function(e){return e.afterRoot&&e.afterRoot(i)}))).then((function(){e(i)}))})).catch(t)}_markDefs(){const e=this.json.nodes||[],t=this.json.skins||[],s=this.json.meshes||[];for(let n=0,r=t.length;n<r;n++){const s=t[n].joints;for(let t=0,n=s.length;t<n;t++)e[s[t]].isBone=!0}for(let n=0,r=e.length;n<r;n++){const t=e[n];void 0!==t.mesh&&(this._addNodeRef(this.meshCache,t.mesh),void 0!==t.skin&&(s[t.mesh].isSkinnedMesh=!0)),void 0!==t.camera&&this._addNodeRef(this.cameraCache,t.camera)}}_addNodeRef(e,t){void 0!==t&&(void 0===e.refs[t]&&(e.refs[t]=e.uses[t]=0),e.refs[t]++)}_getNodeRef(e,t,s){if(e.refs[t]<=1)return s;const n=s.clone(),r=(e,t)=>{const s=this.associations.get(e);null!=s&&this.associations.set(t,s);for(const[n,i]of e.children.entries())r(i,t.children[n])};return r(s,n),n.name+="_instance_"+e.uses[t]++,n}_invokeOne(e){const t=Object.values(this.plugins);t.push(this);for(let s=0;s<t.length;s++){const n=e(t[s]);if(n)return n}return null}_invokeAll(e){const t=Object.values(this.plugins);t.unshift(this);const s=[];for(let n=0;n<t.length;n++){const r=e(t[n]);r&&s.push(r)}return s}getDependency(e,t){const s=e+":"+t;let n=this.cache.get(s);if(!n){switch(e){case"scene":n=this.loadScene(t);break;case"node":n=this.loadNode(t);break;case"mesh":n=this._invokeOne((function(e){return e.loadMesh&&e.loadMesh(t)}));break;case"accessor":n=this.loadAccessor(t);break;case"bufferView":n=this._invokeOne((function(e){return e.loadBufferView&&e.loadBufferView(t)}));break;case"buffer":n=this.loadBuffer(t);break;case"material":n=this._invokeOne((function(e){return e.loadMaterial&&e.loadMaterial(t)}));break;case"texture":n=this._invokeOne((function(e){return e.loadTexture&&e.loadTexture(t)}));break;case"skin":n=this.loadSkin(t);break;case"animation":n=this.loadAnimation(t);break;case"camera":n=this.loadCamera(t);break;default:throw new Error("Unknown type: "+e)}this.cache.add(s,n)}return n}getDependencies(e){let t=this.cache.get(e);if(!t){const s=this,n=this.json[e+("mesh"===e?"es":"s")]||[];t=Promise.all(n.map((function(t,n){return s.getDependency(e,n)}))),this.cache.add(e,t)}return t}loadBuffer(e){const t=this.json.buffers[e],s=this.fileLoader;if(t.type&&"arraybuffer"!==t.type)throw new Error("THREE.GLTFLoader: "+t.type+" buffer type is not supported.");if(void 0===t.uri&&0===e)return Promise.resolve(this.extensions[h.KHR_BINARY_GLTF].body);const r=this.options;return new Promise((function(e,i){s.load(n.LoaderUtils.resolveURL(t.uri,r.path),e,void 0,(function(){i(new Error('THREE.GLTFLoader: Failed to load buffer "'+t.uri+'".'))}))}))}loadBufferView(e){const t=this.json.bufferViews[e];return this.getDependency("buffer",t.buffer).then((function(e){const s=t.byteLength||0,n=t.byteOffset||0;return e.slice(n,n+s)}))}loadAccessor(e){const t=this,s=this.json,r=this.json.accessors[e];if(void 0===r.bufferView&&void 0===r.sparse)return Promise.resolve(null);const i=[];return void 0!==r.bufferView?i.push(this.getDependency("bufferView",r.bufferView)):i.push(null),void 0!==r.sparse&&(i.push(this.getDependency("bufferView",r.sparse.indices.bufferView)),i.push(this.getDependency("bufferView",r.sparse.values.bufferView))),Promise.all(i).then((function(e){const i=e[0],o=X[r.type],a=k[r.componentType],c=a.BYTES_PER_ELEMENT,u=c*o,l=r.byteOffset||0,h=void 0!==r.bufferView?s.bufferViews[r.bufferView].byteStride:void 0,d=!0===r.normalized;let A,B;if(h&&h!==u){const e=Math.floor(l/h),s="InterleavedBuffer:"+r.bufferView+":"+r.componentType+":"+e+":"+r.count;let u=t.cache.get(s);u||(A=new a(i,e*h,r.count*h/c),u=new n.InterleavedBuffer(A,h/c),t.cache.add(s,u)),B=new n.InterleavedBufferAttribute(u,o,l%h/c,d)}else A=null===i?new a(r.count*o):new a(i,l,r.count*o),B=new n.BufferAttribute(A,o,d);if(void 0!==r.sparse){const t=X.SCALAR,s=k[r.sparse.indices.componentType],c=r.sparse.indices.byteOffset||0,u=r.sparse.values.byteOffset||0,l=new s(e[1],c,r.sparse.count*t),h=new a(e[2],u,r.sparse.count*o);null!==i&&(B=new n.BufferAttribute(B.array.slice(),B.itemSize,B.normalized));for(let e=0,n=l.length;e<n;e++){const t=l[e];if(B.setX(t,h[e*o]),o>=2&&B.setY(t,h[e*o+1]),o>=3&&B.setZ(t,h[e*o+2]),o>=4&&B.setW(t,h[e*o+3]),o>=5)throw new Error("THREE.GLTFLoader: Unsupported itemSize in sparse BufferAttribute.")}}return B}))}loadTexture(e){const t=this.json,s=this.options,n=t.textures[e],r=t.images[n.source];let i=this.textureLoader;if(r.uri){const e=s.manager.getHandler(r.uri);null!==e&&(i=e)}return this.loadTextureImage(e,r,i)}loadTextureImage(e,t,s){const r=this,i=this.json,o=this.options,a=i.textures[e],c=(t.uri||t.bufferView)+":"+a.sampler;if(this.textureCache[c])return this.textureCache[c];const u=self.URL||self.webkitURL;let l=t.uri||"",h=!1;if(void 0!==t.bufferView)l=r.getDependency("bufferView",t.bufferView).then((function(e){h=!0;const s=new Blob([e],{type:t.mimeType});return l=u.createObjectURL(s),l}));else if(void 0===t.uri)throw new Error("THREE.GLTFLoader: Image "+e+" is missing URI and bufferView");const d=Promise.resolve(l).then((function(e){return new Promise((function(t,r){let i=t;!0===s.isImageBitmapLoader&&(i=function(e){const s=new n.Texture(e);s.needsUpdate=!0,t(s)}),s.load(n.LoaderUtils.resolveURL(e,o.path),i,void 0,r)}))})).then((function(t){!0===h&&u.revokeObjectURL(l),t.flipY=!1,a.name&&(t.name=a.name);const s=(i.samplers||{})[a.sampler]||{};return t.magFilter=Q[s.magFilter]||n.LinearFilter,t.minFilter=Q[s.minFilter]||n.LinearMipmapLinearFilter,t.wrapS=N[s.wrapS]||n.RepeatWrapping,t.wrapT=N[s.wrapT]||n.RepeatWrapping,r.associations.set(t,{textures:e}),t})).catch((function(){return console.error("THREE.GLTFLoader: Couldn't load texture",l),null}));return this.textureCache[c]=d,d}assignTexture(e,t,s){const n=this;return this.getDependency("texture",s.index).then((function(r){if(void 0===s.texCoord||0==s.texCoord||"aoMap"===t&&1==s.texCoord||console.warn("THREE.GLTFLoader: Custom UV set "+s.texCoord+" for texture "+t+" not yet supported."),n.extensions[h.KHR_TEXTURE_TRANSFORM]){const e=void 0!==s.extensions?s.extensions[h.KHR_TEXTURE_TRANSFORM]:void 0;if(e){const t=n.associations.get(r);r=n.extensions[h.KHR_TEXTURE_TRANSFORM].extendTexture(r,e),n.associations.set(r,t)}}return e[t]=r,r}))}assignFinalMaterial(e){const t=e.geometry;let s=e.material;const r=void 0===t.attributes.tangent,i=void 0!==t.attributes.color,o=void 0===t.attributes.normal;if(e.isPoints){const e="PointsMaterial:"+s.uuid;let t=this.cache.get(e);t||(t=new n.PointsMaterial,n.Material.prototype.copy.call(t,s),t.color.copy(s.color),t.map=s.map,t.sizeAttenuation=!1,this.cache.add(e,t)),s=t}else if(e.isLine){const e="LineBasicMaterial:"+s.uuid;let t=this.cache.get(e);t||(t=new n.LineBasicMaterial,n.Material.prototype.copy.call(t,s),t.color.copy(s.color),this.cache.add(e,t)),s=t}if(r||i||o){let e="ClonedMaterial:"+s.uuid+":";s.isGLTFSpecularGlossinessMaterial&&(e+="specular-glossiness:"),r&&(e+="derivative-tangents:"),i&&(e+="vertex-colors:"),o&&(e+="flat-shading:");let t=this.cache.get(e);t||(t=s.clone(),i&&(t.vertexColors=!0),o&&(t.flatShading=!0),r&&(t.normalScale&&(t.normalScale.y*=-1),t.clearcoatNormalScale&&(t.clearcoatNormalScale.y*=-1)),this.cache.add(e,t),this.associations.set(t,this.associations.get(s))),s=t}s.aoMap&&void 0===t.attributes.uv2&&void 0!==t.attributes.uv&&t.setAttribute("uv2",t.attributes.uv),e.material=s}getMaterialType(){return n.MeshStandardMaterial}loadMaterial(e){const t=this,s=this.json,r=this.extensions,i=s.materials[e];let o;const a={},c=i.extensions||{},u=[];if(c[h.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS]){const e=r[h.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS];o=e.getMaterialType(),u.push(e.extendParams(a,i,t))}else if(c[h.KHR_MATERIALS_UNLIT]){const e=r[h.KHR_MATERIALS_UNLIT];o=e.getMaterialType(),u.push(e.extendParams(a,i,t))}else{const s=i.pbrMetallicRoughness||{};if(a.color=new n.Color(1,1,1),a.opacity=1,Array.isArray(s.baseColorFactor)){const e=s.baseColorFactor;a.color.fromArray(e),a.opacity=e[3]}void 0!==s.baseColorTexture&&u.push(t.assignTexture(a,"map",s.baseColorTexture)),a.metalness=void 0!==s.metallicFactor?s.metallicFactor:1,a.roughness=void 0!==s.roughnessFactor?s.roughnessFactor:1,void 0!==s.metallicRoughnessTexture&&(u.push(t.assignTexture(a,"metalnessMap",s.metallicRoughnessTexture)),u.push(t.assignTexture(a,"roughnessMap",s.metallicRoughnessTexture))),o=this._invokeOne((function(t){return t.getMaterialType&&t.getMaterialType(e)})),u.push(Promise.all(this._invokeAll((function(t){return t.extendMaterialParams&&t.extendMaterialParams(e,a)}))))}!0===i.doubleSided&&(a.side=n.DoubleSide);const l=i.alphaMode||Z;if(l===q?(a.transparent=!0,a.depthWrite=!1):(a.transparent=!1,l===W&&(a.alphaTest=void 0!==i.alphaCutoff?i.alphaCutoff:.5)),void 0!==i.normalTexture&&o!==n.MeshBasicMaterial&&(u.push(t.assignTexture(a,"normalMap",i.normalTexture)),a.normalScale=new n.Vector2(1,1),void 0!==i.normalTexture.scale)){const e=i.normalTexture.scale;a.normalScale.set(e,e)}return void 0!==i.occlusionTexture&&o!==n.MeshBasicMaterial&&(u.push(t.assignTexture(a,"aoMap",i.occlusionTexture)),void 0!==i.occlusionTexture.strength&&(a.aoMapIntensity=i.occlusionTexture.strength)),void 0!==i.emissiveFactor&&o!==n.MeshBasicMaterial&&(a.emissive=(new n.Color).fromArray(i.emissiveFactor)),void 0!==i.emissiveTexture&&o!==n.MeshBasicMaterial&&u.push(t.assignTexture(a,"emissiveMap",i.emissiveTexture)),Promise.all(u).then((function(){let s;return s=o===R?r[h.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS].createMaterial(a):new o(a),i.name&&(s.name=i.name),s.map&&(s.map.encoding=n.sRGBEncoding),s.emissiveMap&&(s.emissiveMap.encoding=n.sRGBEncoding),$(s,i),t.associations.set(s,{materials:e}),i.extensions&&z(r,s,i),s}))}createUniqueName(e){const t=n.PropertyBinding.sanitizeNodeName(e||"");let s=t;for(let n=1;this.nodeNamesUsed[s];++n)s=t+"_"+n;return this.nodeNamesUsed[s]=!0,s}loadGeometries(e){const t=this,s=this.extensions,r=this.primitiveCache;function i(e){return s[h.KHR_DRACO_MESH_COMPRESSION].decodePrimitive(e,t).then((function(s){return oe(s,e,t)}))}const o=[];for(let a=0,c=e.length;a<c;a++){const s=e[a],c=te(s),u=r[c];if(u)o.push(u.promise);else{let e;e=s.extensions&&s.extensions[h.KHR_DRACO_MESH_COMPRESSION]?i(s):oe(new n.BufferGeometry,s,t),r[c]={primitive:s,promise:e},o.push(e)}}return Promise.all(o)}loadMesh(e){const t=this,s=this.json,r=this.extensions,i=s.meshes[e],o=i.primitives,a=[];for(let u=0,l=o.length;u<l;u++){const e=void 0===o[u].material?(void 0===(c=this.cache).DefaultMaterial&&(c.DefaultMaterial=new n.MeshStandardMaterial({color:16777215,emissive:0,metalness:1,roughness:1,transparent:!1,depthTest:!0,side:n.FrontSide})),c.DefaultMaterial):this.getDependency("material",o[u].material);a.push(e)}var c;return a.push(t.loadGeometries(o)),Promise.all(a).then((function(s){const a=s.slice(0,s.length-1),c=s[s.length-1],u=[];for(let h=0,d=c.length;h<d;h++){const s=c[h],l=o[h];let d;const A=a[h];if(l.mode===x||l.mode===U||l.mode===K||void 0===l.mode)d=!0===i.isSkinnedMesh?new n.SkinnedMesh(s,A):new n.Mesh(s,A),!0!==d.isSkinnedMesh||d.geometry.attributes.skinWeight.normalized||d.normalizeSkinWeights(),l.mode===U?d.geometry=ae(d.geometry,n.TriangleStripDrawMode):l.mode===K&&(d.geometry=ae(d.geometry,n.TriangleFanDrawMode));else if(l.mode===P)d=new n.LineSegments(s,A);else if(l.mode===O)d=new n.Line(s,A);else if(l.mode===L)d=new n.LineLoop(s,A);else{if(l.mode!==S)throw new Error("THREE.GLTFLoader: Primitive mode unsupported: "+l.mode);d=new n.Points(s,A)}Object.keys(d.geometry.morphAttributes).length>0&&ee(d,i),d.name=t.createUniqueName(i.name||"mesh_"+e),$(d,i),l.extensions&&z(r,d,l),t.assignFinalMaterial(d),u.push(d)}for(let n=0,r=u.length;n<r;n++)t.associations.set(u[n],{meshes:e,primitives:n});if(1===u.length)return u[0];const l=new n.Group;t.associations.set(l,{meshes:e});for(let e=0,t=u.length;e<t;e++)l.add(u[e]);return l}))}loadCamera(e){let t;const s=this.json.cameras[e],r=s[s.type];if(r)return"perspective"===s.type?t=new n.PerspectiveCamera(n.MathUtils.radToDeg(r.yfov),r.aspectRatio||1,r.znear||1,r.zfar||2e6):"orthographic"===s.type&&(t=new n.OrthographicCamera(-r.xmag,r.xmag,r.ymag,-r.ymag,r.znear,r.zfar)),s.name&&(t.name=this.createUniqueName(s.name)),$(t,s),Promise.resolve(t);console.warn("THREE.GLTFLoader: Missing camera parameters.")}loadSkin(e){const t=this.json.skins[e],s={joints:t.joints};return void 0===t.inverseBindMatrices?Promise.resolve(s):this.getDependency("accessor",t.inverseBindMatrices).then((function(e){return s.inverseBindMatrices=e,s}))}loadAnimation(e){const t=this.json.animations[e],s=[],r=[],i=[],o=[],a=[];for(let n=0,c=t.channels.length;n<c;n++){const e=t.channels[n],c=t.samplers[e.sampler],u=e.target,l=void 0!==u.node?u.node:u.id,h=void 0!==t.parameters?t.parameters[c.input]:c.input,d=void 0!==t.parameters?t.parameters[c.output]:c.output;s.push(this.getDependency("node",l)),r.push(this.getDependency("accessor",h)),i.push(this.getDependency("accessor",d)),o.push(c),a.push(u)}return Promise.all([Promise.all(s),Promise.all(r),Promise.all(i),Promise.all(o),Promise.all(a)]).then((function(s){const r=s[0],i=s[1],o=s[2],a=s[3],c=s[4],u=[];for(let e=0,t=r.length;e<t;e++){const t=r[e],s=i[e],l=o[e],h=a[e],d=c[e];if(void 0===t)continue;let A;switch(t.updateMatrix(),t.matrixAutoUpdate=!0,Y[d.path]){case Y.weights:A=n.NumberKeyframeTrack;break;case Y.rotation:A=n.QuaternionKeyframeTrack;break;default:A=n.VectorKeyframeTrack}const B=t.name?t.name:t.uuid,p=void 0!==h.interpolation?V[h.interpolation]:n.InterpolateLinear,f=[];Y[d.path]===Y.weights?t.traverse((function(e){e.morphTargetInfluences&&f.push(e.name?e.name:e.uuid)})):f.push(B);let m=l.array;if(l.normalized){const e=ne(m.constructor),t=new Float32Array(m.length);for(let s=0,n=m.length;s<n;s++)t[s]=m[s]*e;m=t}for(let e=0,r=f.length;e<r;e++){const t=new A(f[e]+"."+Y[d.path],s.array,m,p);"CUBICSPLINE"===h.interpolation&&(t.createInterpolant=function(e){return new(this instanceof n.QuaternionKeyframeTrack?w:T)(this.times,this.values,this.getValueSize()/3,e)},t.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline=!0),u.push(t)}}const l=t.name?t.name:"animation_"+e;return new n.AnimationClip(l,void 0,u)}))}createNodeMesh(e){const t=this.json,s=this,n=t.nodes[e];return void 0===n.mesh?null:s.getDependency("mesh",n.mesh).then((function(e){const t=s._getNodeRef(s.meshCache,n.mesh,e);return void 0!==n.weights&&t.traverse((function(e){if(e.isMesh)for(let t=0,s=n.weights.length;t<s;t++)e.morphTargetInfluences[t]=n.weights[t]})),t}))}loadNode(e){const t=this.json,s=this.extensions,r=this,i=t.nodes[e],o=i.name?r.createUniqueName(i.name):"";return function(){const t=[],s=r._invokeOne((function(t){return t.createNodeMesh&&t.createNodeMesh(e)}));return s&&t.push(s),void 0!==i.camera&&t.push(r.getDependency("camera",i.camera).then((function(e){return r._getNodeRef(r.cameraCache,i.camera,e)}))),r._invokeAll((function(t){return t.createNodeAttachment&&t.createNodeAttachment(e)})).forEach((function(e){t.push(e)})),Promise.all(t)}().then((function(t){let a;if(a=!0===i.isBone?new n.Bone:t.length>1?new n.Group:1===t.length?t[0]:new n.Object3D,a!==t[0])for(let e=0,s=t.length;e<s;e++)a.add(t[e]);if(i.name&&(a.userData.name=i.name,a.name=o),$(a,i),i.extensions&&z(s,a,i),void 0!==i.matrix){const e=new n.Matrix4;e.fromArray(i.matrix),a.applyMatrix4(e)}else void 0!==i.translation&&a.position.fromArray(i.translation),void 0!==i.rotation&&a.quaternion.fromArray(i.rotation),void 0!==i.scale&&a.scale.fromArray(i.scale);return r.associations.has(a)||r.associations.set(a,{}),r.associations.get(a).nodes=e,a}))}loadScene(e){const t=this.json,s=this.extensions,r=this.json.scenes[e],i=this,o=new n.Group;r.name&&(o.name=i.createUniqueName(r.name)),$(o,r),r.extensions&&z(s,o,r);const a=r.nodes||[],c=[];for(let n=0,u=a.length;n<u;n++)c.push(ie(a[n],o,t,i));return Promise.all(c).then((function(){return i.associations=(e=>{const t=new Map;for(const[s,r]of i.associations)(s instanceof n.Material||s instanceof n.Texture)&&t.set(s,r);return e.traverse((e=>{const s=i.associations.get(e);null!=s&&t.set(e,s)})),t})(o),o}))}}function ie(e,t,s,r){const i=s.nodes[e];return r.getDependency("node",e).then((function(e){if(void 0===i.skin)return e;let t;return r.getDependency("skin",i.skin).then((function(e){t=e;const s=[];for(let n=0,i=t.joints.length;n<i;n++)s.push(r.getDependency("node",t.joints[n]));return Promise.all(s)})).then((function(s){return e.traverse((function(e){if(!e.isMesh)return;const r=[],i=[];for(let o=0,a=s.length;o<a;o++){const e=s[o];if(e){r.push(e);const s=new n.Matrix4;void 0!==t.inverseBindMatrices&&s.fromArray(t.inverseBindMatrices.array,16*o),i.push(s)}else console.warn('THREE.GLTFLoader: Joint "%s" could not be found.',t.joints[o])}e.bind(new n.Skeleton(r,i),e.matrixWorld)})),e}))})).then((function(e){t.add(e);const n=[];if(i.children){const t=i.children;for(let i=0,o=t.length;i<o;i++){const o=t[i];n.push(ie(o,e,s,r))}}return Promise.all(n)}))}function oe(e,t,s){const r=t.attributes,i=[];function o(t,n){return s.getDependency("accessor",t).then((function(t){e.setAttribute(n,t)}))}for(const n in r){const t=j[n]||n.toLowerCase();t in e.attributes||i.push(o(r[n],t))}if(void 0!==t.indices&&!e.index){const n=s.getDependency("accessor",t.indices).then((function(t){e.setIndex(t)}));i.push(n)}return $(e,t),function(e,t,s){const r=t.attributes,i=new n.Box3;if(void 0===r.POSITION)return;{const e=s.json.accessors[r.POSITION],t=e.min,o=e.max;if(void 0===t||void 0===o)return void console.warn("THREE.GLTFLoader: Missing min/max properties for accessor POSITION.");if(i.set(new n.Vector3(t[0],t[1],t[2]),new n.Vector3(o[0],o[1],o[2])),e.normalized){const t=ne(k[e.componentType]);i.min.multiplyScalar(t),i.max.multiplyScalar(t)}}const o=t.targets;if(void 0!==o){const e=new n.Vector3,t=new n.Vector3;for(let n=0,r=o.length;n<r;n++){const r=o[n];if(void 0!==r.POSITION){const n=s.json.accessors[r.POSITION],i=n.min,o=n.max;if(void 0!==i&&void 0!==o){if(t.setX(Math.max(Math.abs(i[0]),Math.abs(o[0]))),t.setY(Math.max(Math.abs(i[1]),Math.abs(o[1]))),t.setZ(Math.max(Math.abs(i[2]),Math.abs(o[2]))),n.normalized){const e=ne(k[n.componentType]);t.multiplyScalar(e)}e.max(t)}else console.warn("THREE.GLTFLoader: Missing min/max properties for accessor POSITION.")}}i.expandByVector(e)}e.boundingBox=i;const a=new n.Sphere;i.getCenter(a.center),a.radius=i.min.distanceTo(i.max)/2,e.boundingSphere=a}(e,t,s),Promise.all(i).then((function(){return void 0!==t.targets?function(e,t,s){let n=!1,r=!1;for(let a=0,c=t.length;a<c;a++){const e=t[a];if(void 0!==e.POSITION&&(n=!0),void 0!==e.NORMAL&&(r=!0),n&&r)break}if(!n&&!r)return Promise.resolve(e);const i=[],o=[];for(let a=0,c=t.length;a<c;a++){const c=t[a];if(n){const t=void 0!==c.POSITION?s.getDependency("accessor",c.POSITION):e.attributes.position;i.push(t)}if(r){const t=void 0!==c.NORMAL?s.getDependency("accessor",c.NORMAL):e.attributes.normal;o.push(t)}}return Promise.all([Promise.all(i),Promise.all(o)]).then((function(t){const s=t[0],i=t[1];return n&&(e.morphAttributes.position=s),r&&(e.morphAttributes.normal=i),e.morphTargetsRelative=!0,e}))}(e,t.targets,s):e}))}function ae(e,t){let s=e.getIndex();if(null===s){const t=[],n=e.getAttribute("position");if(void 0===n)return console.error("THREE.GLTFLoader.toTrianglesDrawMode(): Undefined position attribute. Processing not possible."),e;for(let e=0;e<n.count;e++)t.push(e);e.setIndex(t),s=e.getIndex()}const r=s.count-2,i=[];if(t===n.TriangleFanDrawMode)for(let n=1;n<=r;n++)i.push(s.getX(0)),i.push(s.getX(n)),i.push(s.getX(n+1));else for(let n=0;n<r;n++)n%2===0?(i.push(s.getX(n)),i.push(s.getX(n+1)),i.push(s.getX(n+2))):(i.push(s.getX(n+2)),i.push(s.getX(n+1)),i.push(s.getX(n)));i.length/3!==r&&console.error("THREE.GLTFLoader.toTrianglesDrawMode(): Unable to generate correct amount of triangles.");const o=e.clone();return o.setIndex(i),o}var ce=s(9251);let ue=null;function le(e,t,s){return n=>{s&&s(n),e&&(ue||(ue=new i),ue.setDecoderPath("string"===typeof e?e:"https://www.gstatic.com/draco/versioned/decoders/1.4.3/"),n.setDRACOLoader(ue)),t&&n.setMeshoptDecoder(c())}}function he(e,t=!0,s=!0,n){return(0,ce.U2)(u,e,le(t,s,n))}he.preload=(e,t=!0,s=!0,n)=>ce.U2.preload(u,e,le(t,s,n)),he.clear=e=>ce.U2.clear(u,e)},64:function(e,t,s){"use strict";s.d(t,{N:function(){return Nn}});var n=s(7462),r=s(7294),i=s(2212),o=s(9251);let a=F();const c=e=>g(e,a);let u=F();c.write=e=>g(e,u);let l=F();c.onStart=e=>g(e,l);let h=F();c.onFrame=e=>g(e,h);let d=F();c.onFinish=e=>g(e,d);let A=[];c.setTimeout=(e,t)=>{let s=c.now()+t,n=()=>{let e=A.findIndex((e=>e.cancel==n));~e&&A.splice(e,1),m-=~e?1:0},r={time:s,handler:e,cancel:n};return A.splice(B(s),0,r),m+=1,M(),r};let B=e=>~(~A.findIndex((t=>t.time>e))||~A.length);c.cancel=e=>{l.delete(e),h.delete(e),a.delete(e),u.delete(e),d.delete(e)},c.sync=e=>{C=!0,c.batchedUpdates(e),C=!1},c.throttle=e=>{let t;function s(){try{e(...t)}finally{t=null}}function n(...e){t=e,c.onStart(s)}return n.handler=e,n.cancel=()=>{l.delete(s),t=null},n};let p="undefined"!=typeof window?window.requestAnimationFrame:()=>{};c.use=e=>p=e,c.now="undefined"!=typeof performance?()=>performance.now():Date.now,c.batchedUpdates=e=>e(),c.catch=console.error,c.frameLoop="always",c.advance=()=>{"demand"!==c.frameLoop?console.warn("Cannot call the manual advancement of rafz whilst frameLoop is not set as demand"):E()};let f=-1,m=0,C=!1;function g(e,t){C?(t.delete(e),e(0)):(t.add(e),M())}function M(){f<0&&(f=0,"demand"!==c.frameLoop&&p(v))}function v(){~f&&(p(v),c.batchedUpdates(E))}function E(){let e=f;f=c.now();let t=B(f);t&&(y(A.splice(0,t),(e=>e.handler())),m-=t),l.flush(),a.flush(e?Math.min(64,f-e):16.667),h.flush(),u.flush(),d.flush(),m||(f=-1)}function F(){let e=new Set,t=e;return{add(s){m+=t!=e||e.has(s)?0:1,e.add(s)},delete:s=>(m-=t==e&&e.has(s)?1:0,e.delete(s)),flush(s){t.size&&(e=new Set,m-=t.size,y(t,(t=>t(s)&&e.add(t))),m+=e.size,t=e)}}}function y(e,t){e.forEach((e=>{try{t(e)}catch(s){c.catch(s)}}))}function I(){}const G={arr:Array.isArray,obj:e=>!!e&&"Object"===e.constructor.name,fun:e=>"function"===typeof e,str:e=>"string"===typeof e,num:e=>"number"===typeof e,und:e=>void 0===e};function b(e,t){if(G.arr(e)){if(!G.arr(t)||e.length!==t.length)return!1;for(let s=0;s<e.length;s++)if(e[s]!==t[s])return!1;return!0}return e===t}const D=(e,t)=>e.forEach(t);function R(e,t,s){if(G.arr(e))for(let n=0;n<e.length;n++)t.call(s,e[n],`${n}`);else for(const n in e)e.hasOwnProperty(n)&&t.call(s,e[n],n)}const H=e=>G.und(e)?[]:G.arr(e)?e:[e];function _(e,t){if(e.size){const s=Array.from(e);e.clear(),D(s,t)}}const T=(e,...t)=>_(e,(e=>e(...t))),J=()=>"undefined"===typeof window||!window.navigator||/ServerSideRendering|^Deno\//.test(window.navigator.userAgent);let w,S,P=null,L=!1,O=I;var x=Object.freeze({__proto__:null,get createStringInterpolator(){return w},get to(){return S},get colors(){return P},get skipAnimation(){return L},get willAdvance(){return O},assign:e=>{e.to&&(S=e.to),e.now&&(c.now=e.now),void 0!==e.colors&&(P=e.colors),null!=e.skipAnimation&&(L=e.skipAnimation),e.createStringInterpolator&&(w=e.createStringInterpolator),e.requestAnimationFrame&&c.use(e.requestAnimationFrame),e.batchedUpdates&&(c.batchedUpdates=e.batchedUpdates),e.willAdvance&&(O=e.willAdvance),e.frameLoop&&(c.frameLoop=e.frameLoop)}});const U=new Set;let K=[],k=[],Q=0;const N={get idle(){return!U.size&&!K.length},start(e){Q>e.priority?(U.add(e),c.onStart(X)):(j(e),c(V))},advance:V,sort(e){if(Q)c.onFrame((()=>N.sort(e)));else{const t=K.indexOf(e);~t&&(K.splice(t,1),Y(e))}},clear(){K=[],U.clear()}};function X(){U.forEach(j),U.clear(),c(V)}function j(e){K.includes(e)||Y(e)}function Y(e){K.splice(function(e,t){const s=e.findIndex(t);return s<0?e.length:s}(K,(t=>t.priority>e.priority)),0,e)}function V(e){const t=k;for(let s=0;s<K.length;s++){const n=K[s];Q=n.priority,n.idle||(O(n),n.advance(e),n.idle||t.push(n))}return Q=0,k=K,k.length=0,K=t,K.length>0}const Z="[-+]?\\d*\\.?\\d+",W=Z+"%";function q(...e){return"\\(\\s*("+e.join(")\\s*,\\s*(")+")\\s*\\)"}const z=new RegExp("rgb"+q(Z,Z,Z)),$=new RegExp("rgba"+q(Z,Z,Z,Z)),ee=new RegExp("hsl"+q(Z,W,W)),te=new RegExp("hsla"+q(Z,W,W,Z)),se=/^#([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,ne=/^#([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,re=/^#([0-9a-fA-F]{6})$/,ie=/^#([0-9a-fA-F]{8})$/;function oe(e,t,s){return s<0&&(s+=1),s>1&&(s-=1),s<1/6?e+6*(t-e)*s:s<.5?t:s<2/3?e+(t-e)*(2/3-s)*6:e}function ae(e,t,s){const n=s<.5?s*(1+t):s+t-s*t,r=2*s-n,i=oe(r,n,e+1/3),o=oe(r,n,e),a=oe(r,n,e-1/3);return Math.round(255*i)<<24|Math.round(255*o)<<16|Math.round(255*a)<<8}function ce(e){const t=parseInt(e,10);return t<0?0:t>255?255:t}function ue(e){return(parseFloat(e)%360+360)%360/360}function le(e){const t=parseFloat(e);return t<0?0:t>1?255:Math.round(255*t)}function he(e){const t=parseFloat(e);return t<0?0:t>100?1:t/100}function de(e){let t=function(e){let t;return"number"===typeof e?e>>>0===e&&e>=0&&e<=4294967295?e:null:(t=re.exec(e))?parseInt(t[1]+"ff",16)>>>0:P&&void 0!==P[e]?P[e]:(t=z.exec(e))?(ce(t[1])<<24|ce(t[2])<<16|ce(t[3])<<8|255)>>>0:(t=$.exec(e))?(ce(t[1])<<24|ce(t[2])<<16|ce(t[3])<<8|le(t[4]))>>>0:(t=se.exec(e))?parseInt(t[1]+t[1]+t[2]+t[2]+t[3]+t[3]+"ff",16)>>>0:(t=ie.exec(e))?parseInt(t[1],16)>>>0:(t=ne.exec(e))?parseInt(t[1]+t[1]+t[2]+t[2]+t[3]+t[3]+t[4]+t[4],16)>>>0:(t=ee.exec(e))?(255|ae(ue(t[1]),he(t[2]),he(t[3])))>>>0:(t=te.exec(e))?(ae(ue(t[1]),he(t[2]),he(t[3]))|le(t[4]))>>>0:null}(e);return null===t?e:(t=t||0,`rgba(${(4278190080&t)>>>24}, ${(16711680&t)>>>16}, ${(65280&t)>>>8}, ${(255&t)/255})`)}const Ae=(e,t,s)=>{if(G.fun(e))return e;if(G.arr(e))return Ae({range:e,output:t,extrapolate:s});if(G.str(e.output[0]))return w(e);const n=e,r=n.output,i=n.range||[0,1],o=n.extrapolateLeft||n.extrapolate||"extend",a=n.extrapolateRight||n.extrapolate||"extend",c=n.easing||(e=>e);return e=>{const t=function(e,t){for(var s=1;s<t.length-1&&!(t[s]>=e);++s);return s-1}(e,i);return function(e,t,s,n,r,i,o,a,c){let u=c?c(e):e;if(u<t){if("identity"===o)return u;"clamp"===o&&(u=t)}if(u>s){if("identity"===a)return u;"clamp"===a&&(u=s)}if(n===r)return n;if(t===s)return e<=t?n:r;t===-1/0?u=-u:s===1/0?u-=t:u=(u-t)/(s-t);u=i(u),n===-1/0?u=-u:r===1/0?u+=n:u=u*(r-n)+n;return u}(e,i[t],i[t+1],r[t],r[t+1],c,o,a,n.map)}};function Be(){return Be=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var n in s)Object.prototype.hasOwnProperty.call(s,n)&&(e[n]=s[n])}return e},Be.apply(this,arguments)}const pe=Symbol.for("FluidValue.get"),fe=Symbol.for("FluidValue.observers"),me=e=>Boolean(e&&e[pe]),Ce=e=>e&&e[pe]?e[pe]():e,ge=e=>e[fe]||null;function Me(e,t){let s=e[fe];s&&s.forEach((e=>{!function(e,t){e.eventObserved?e.eventObserved(t):e(t)}(e,t)}))}const ve=(e,t)=>ye(e,pe,t);function Ee(e,t){if(e[pe]){let s=e[fe];s||ye(e,fe,s=new Set),s.has(t)||(s.add(t),e.observerAdded&&e.observerAdded(s.size,t))}return t}function Fe(e,t){let s=e[fe];if(s&&s.has(t)){const n=s.size-1;n?s.delete(t):e[fe]=null,e.observerRemoved&&e.observerRemoved(n,t)}}const ye=(e,t,s)=>Object.defineProperty(e,t,{value:s,writable:!0,configurable:!0}),Ie=/[+\-]?(?:0|[1-9]\d*)(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,Ge=/(#(?:[0-9a-f]{2}){2,4}|(#[0-9a-f]{3})|(rgb|hsl)a?\((-?\d+%?[,\s]+){2,3}\s*[\d\.]+%?\))/gi,be=new RegExp(`(${Ie.source})(%|[a-z]+)`,"i"),De=/rgba\(([0-9\.-]+), ([0-9\.-]+), ([0-9\.-]+), ([0-9\.-]+)\)/gi,Re=/var\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\)/,He=e=>{const[t,s]=_e(e);if(!t||J())return e;const n=window.getComputedStyle(document.documentElement).getPropertyValue(t);if(n)return n.trim();if(s&&s.startsWith("--")){const t=window.getComputedStyle(document.documentElement).getPropertyValue(s);return t||e}return s&&Re.test(s)?He(s):s||e},_e=e=>{const t=Re.exec(e);if(!t)return[,];const[,s,n]=t;return[s,n]};let Te;const Je=(e,t,s,n,r)=>`rgba(${Math.round(t)}, ${Math.round(s)}, ${Math.round(n)}, ${r})`,we=e=>{Te||(Te=P?new RegExp(`(${Object.keys(P).join("|")})(?!\\w)`,"g"):/^\b$/);const t=e.output.map((e=>Ce(e).replace(Re,He).replace(Ge,de).replace(Te,de))),s=t.map((e=>e.match(Ie).map(Number))),n=s[0].map(((e,t)=>s.map((e=>{if(!(t in e))throw Error('The arity of each "output" value must be equal');return e[t]})))).map((t=>Ae(Be({},e,{output:t}))));return e=>{var s;const r=!be.test(t[0])&&(null==(s=t.find((e=>be.test(e))))?void 0:s.replace(Ie,""));let i=0;return t[0].replace(Ie,(()=>`${n[i++](e)}${r||""}`)).replace(De,Je)}},Se="react-spring: ",Pe=e=>{const t=e;let s=!1;if("function"!=typeof t)throw new TypeError(`${Se}once requires a function parameter`);return(...e)=>{s||(t(...e),s=!0)}},Le=Pe(console.warn);const Oe=Pe(console.warn);function xe(e){return G.str(e)&&("#"==e[0]||/\d/.test(e)||!J()&&Re.test(e)||e in(P||{}))}const Ue=e=>(0,r.useEffect)(e,Ke),Ke=[];function ke(){const e=(0,r.useState)()[1],t=(0,r.useState)(Qe)[0];return Ue(t.unmount),()=>{t.current&&e({})}}function Qe(){const e={current:!0,unmount:()=>()=>{e.current=!1}};return e}function Ne(e){const t=(0,r.useRef)();return(0,r.useEffect)((()=>{t.current=e})),t.current}const Xe="undefined"!==typeof window&&window.document&&window.document.createElement?r.useLayoutEffect:r.useEffect,je=Symbol.for("Animated:node"),Ye=e=>e&&e[je],Ve=(e,t)=>{return s=e,n=je,r=t,Object.defineProperty(s,n,{value:r,writable:!0,configurable:!0});var s,n,r},Ze=e=>e&&e[je]&&e[je].getPayload();class We{constructor(){this.payload=void 0,Ve(this,this)}getPayload(){return this.payload||[]}}class qe extends We{constructor(e){super(),this.done=!0,this.elapsedTime=void 0,this.lastPosition=void 0,this.lastVelocity=void 0,this.v0=void 0,this.durationProgress=0,this._value=e,G.num(this._value)&&(this.lastPosition=this._value)}static create(e){return new qe(e)}getPayload(){return[this]}getValue(){return this._value}setValue(e,t){return G.num(e)&&(this.lastPosition=e,t&&(e=Math.round(e/t)*t,this.done&&(this.lastPosition=e))),this._value!==e&&(this._value=e,!0)}reset(){const{done:e}=this;this.done=!1,G.num(this._value)&&(this.elapsedTime=0,this.durationProgress=0,this.lastPosition=this._value,e&&(this.lastVelocity=null),this.v0=null)}}class ze extends qe{constructor(e){super(0),this._string=null,this._toString=void 0,this._toString=Ae({output:[e,e]})}static create(e){return new ze(e)}getValue(){let e=this._string;return null==e?this._string=this._toString(this._value):e}setValue(e){if(G.str(e)){if(e==this._string)return!1;this._string=e,this._value=1}else{if(!super.setValue(e))return!1;this._string=null}return!0}reset(e){e&&(this._toString=Ae({output:[this.getValue(),e]})),this._value=0,super.reset()}}const $e={dependencies:null};class et extends We{constructor(e){super(),this.source=e,this.setValue(e)}getValue(e){const t={};return R(this.source,((s,n)=>{var r;(r=s)&&r[je]===r?t[n]=s.getValue(e):me(s)?t[n]=Ce(s):e||(t[n]=s)})),t}setValue(e){this.source=e,this.payload=this._makePayload(e)}reset(){this.payload&&D(this.payload,(e=>e.reset()))}_makePayload(e){if(e){const t=new Set;return R(e,this._addToPayload,t),Array.from(t)}}_addToPayload(e){$e.dependencies&&me(e)&&$e.dependencies.add(e);const t=Ze(e);t&&D(t,(e=>this.add(e)))}}class tt extends et{constructor(e){super(e)}static create(e){return new tt(e)}getValue(){return this.source.map((e=>e.getValue()))}setValue(e){const t=this.getPayload();return e.length==t.length?t.map(((t,s)=>t.setValue(e[s]))).some(Boolean):(super.setValue(e.map(st)),!0)}}function st(e){return(xe(e)?ze:qe).create(e)}function nt(e){const t=Ye(e);return t?t.constructor:G.arr(e)?tt:xe(e)?ze:qe}function rt(){return rt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var n in s)Object.prototype.hasOwnProperty.call(s,n)&&(e[n]=s[n])}return e},rt.apply(this,arguments)}const it=(e,t)=>{const s=!G.fun(e)||e.prototype&&e.prototype.isReactComponent;return(0,r.forwardRef)(((n,i)=>{const o=(0,r.useRef)(null),a=s&&(0,r.useCallback)((e=>{o.current=function(e,t){e&&(G.fun(e)?e(t):e.current=t);return t}(i,e)}),[i]),[u,l]=function(e,t){const s=new Set;$e.dependencies=s,e.style&&(e=rt({},e,{style:t.createAnimatedStyle(e.style)}));return e=new et(e),$e.dependencies=null,[e,s]}(n,t),h=ke(),d=()=>{const e=o.current;if(s&&!e)return;!1===(!!e&&t.applyAnimatedValues(e,u.getValue(!0)))&&h()},A=new ot(d,l),B=(0,r.useRef)();Xe((()=>{const e=B.current;B.current=A,D(l,(e=>Ee(e,A))),e&&(D(e.deps,(t=>Fe(t,e))),c.cancel(e.update))})),(0,r.useEffect)(d,[]),Ue((()=>()=>{const e=B.current;D(e.deps,(t=>Fe(t,e)))}));const p=t.getComponentProps(u.getValue());return r.createElement(e,rt({},p,{ref:a}))}))};class ot{constructor(e,t){this.update=e,this.deps=t}eventObserved(e){"change"==e.type&&c.write(this.update)}}const at=Symbol.for("AnimatedComponent"),ct=e=>G.str(e)?e:e&&G.str(e.displayName)?e.displayName:G.fun(e)&&e.name||null;function ut(){return ut=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var n in s)Object.prototype.hasOwnProperty.call(s,n)&&(e[n]=s[n])}return e},ut.apply(this,arguments)}function lt(e,...t){return G.fun(e)?e(...t):e}const ht=(e,t)=>!0===e||!!(t&&e&&(G.fun(e)?e(t):H(e).includes(t))),dt=(e,t)=>G.obj(e)?t&&e[t]:e,At=(e,t)=>!0===e.default?e[t]:e.default?e.default[t]:void 0,Bt=e=>e,pt=(e,t=Bt)=>{let s=ft;e.default&&!0!==e.default&&(e=e.default,s=Object.keys(e));const n={};for(const r of s){const s=t(e[r],r);G.und(s)||(n[r]=s)}return n},ft=["config","onProps","onStart","onChange","onPause","onResume","onRest"],mt={config:1,from:1,to:1,ref:1,loop:1,reset:1,pause:1,cancel:1,reverse:1,immediate:1,default:1,delay:1,onProps:1,onStart:1,onChange:1,onPause:1,onResume:1,onRest:1,onResolve:1,items:1,trail:1,sort:1,expires:1,initial:1,enter:1,update:1,leave:1,children:1,onDestroyed:1,keys:1,callId:1,parentId:1};function Ct(e){const t=function(e){const t={};let s=0;if(R(e,((e,n)=>{mt[n]||(t[n]=e,s++)})),s)return t}(e);if(t){const s={to:t};return R(e,((e,n)=>n in t||(s[n]=e))),s}return ut({},e)}function gt(e){return e=Ce(e),G.arr(e)?e.map(gt):xe(e)?x.createStringInterpolator({range:[0,1],output:[e,e]})(1):e}function Mt(e){for(const t in e)return!0;return!1}function vt(e){return G.fun(e)||G.arr(e)&&G.obj(e[0])}function Et(e,t){var s;null==(s=e.ref)||s.delete(e),null==t||t.delete(e)}function Ft(e,t){var s;t&&e.ref!==t&&(null==(s=e.ref)||s.delete(e),t.add(e),e.ref=t)}const yt=1.70158,It=1.525*yt,Gt=yt+1,bt=2*Math.PI/3,Dt=2*Math.PI/4.5,Rt=e=>{const t=7.5625,s=2.75;return e<1/s?t*e*e:e<2/s?t*(e-=1.5/s)*e+.75:e<2.5/s?t*(e-=2.25/s)*e+.9375:t*(e-=2.625/s)*e+.984375},Ht=ut({},{tension:170,friction:26},{mass:1,damping:1,easing:{linear:e=>e,easeInQuad:e=>e*e,easeOutQuad:e=>1-(1-e)*(1-e),easeInOutQuad:e=>e<.5?2*e*e:1-Math.pow(-2*e+2,2)/2,easeInCubic:e=>e*e*e,easeOutCubic:e=>1-Math.pow(1-e,3),easeInOutCubic:e=>e<.5?4*e*e*e:1-Math.pow(-2*e+2,3)/2,easeInQuart:e=>e*e*e*e,easeOutQuart:e=>1-Math.pow(1-e,4),easeInOutQuart:e=>e<.5?8*e*e*e*e:1-Math.pow(-2*e+2,4)/2,easeInQuint:e=>e*e*e*e*e,easeOutQuint:e=>1-Math.pow(1-e,5),easeInOutQuint:e=>e<.5?16*e*e*e*e*e:1-Math.pow(-2*e+2,5)/2,easeInSine:e=>1-Math.cos(e*Math.PI/2),easeOutSine:e=>Math.sin(e*Math.PI/2),easeInOutSine:e=>-(Math.cos(Math.PI*e)-1)/2,easeInExpo:e=>0===e?0:Math.pow(2,10*e-10),easeOutExpo:e=>1===e?1:1-Math.pow(2,-10*e),easeInOutExpo:e=>0===e?0:1===e?1:e<.5?Math.pow(2,20*e-10)/2:(2-Math.pow(2,-20*e+10))/2,easeInCirc:e=>1-Math.sqrt(1-Math.pow(e,2)),easeOutCirc:e=>Math.sqrt(1-Math.pow(e-1,2)),easeInOutCirc:e=>e<.5?(1-Math.sqrt(1-Math.pow(2*e,2)))/2:(Math.sqrt(1-Math.pow(-2*e+2,2))+1)/2,easeInBack:e=>Gt*e*e*e-yt*e*e,easeOutBack:e=>1+Gt*Math.pow(e-1,3)+yt*Math.pow(e-1,2),easeInOutBack:e=>e<.5?Math.pow(2*e,2)*(7.189819*e-It)/2:(Math.pow(2*e-2,2)*((It+1)*(2*e-2)+It)+2)/2,easeInElastic:e=>0===e?0:1===e?1:-Math.pow(2,10*e-10)*Math.sin((10*e-10.75)*bt),easeOutElastic:e=>0===e?0:1===e?1:Math.pow(2,-10*e)*Math.sin((10*e-.75)*bt)+1,easeInOutElastic:e=>0===e?0:1===e?1:e<.5?-Math.pow(2,20*e-10)*Math.sin((20*e-11.125)*Dt)/2:Math.pow(2,-20*e+10)*Math.sin((20*e-11.125)*Dt)/2+1,easeInBounce:e=>1-Rt(1-e),easeOutBounce:Rt,easeInOutBounce:e=>e<.5?(1-Rt(1-2*e))/2:(1+Rt(2*e-1))/2}.linear,clamp:!1});class _t{constructor(){this.tension=void 0,this.friction=void 0,this.frequency=void 0,this.damping=void 0,this.mass=void 0,this.velocity=0,this.restVelocity=void 0,this.precision=void 0,this.progress=void 0,this.duration=void 0,this.easing=void 0,this.clamp=void 0,this.bounce=void 0,this.decay=void 0,this.round=void 0,Object.assign(this,Ht)}}function Tt(e,t){if(G.und(t.decay)){const s=!G.und(t.tension)||!G.und(t.friction);!s&&G.und(t.frequency)&&G.und(t.damping)&&G.und(t.mass)||(e.duration=void 0,e.decay=void 0),s&&(e.frequency=void 0)}else e.duration=void 0}const Jt=[];class wt{constructor(){this.changed=!1,this.values=Jt,this.toValues=null,this.fromValues=Jt,this.to=void 0,this.from=void 0,this.config=new _t,this.immediate=!1}}function St(e,{key:t,props:s,defaultProps:n,state:r,actions:i}){return new Promise(((o,a)=>{var u;let l,h,d=ht(null!=(u=s.cancel)?u:null==n?void 0:n.cancel,t);if(d)p();else{G.und(s.pause)||(r.paused=ht(s.pause,t));let e=null==n?void 0:n.pause;!0!==e&&(e=r.paused||ht(e,t)),l=lt(s.delay||0,t),e?(r.resumeQueue.add(B),i.pause()):(i.resume(),B())}function A(){r.resumeQueue.add(B),r.timeouts.delete(h),h.cancel(),l=h.time-c.now()}function B(){l>0&&!x.skipAnimation?(r.delayed=!0,h=c.setTimeout(p,l),r.pauseQueue.add(A),r.timeouts.add(h)):p()}function p(){r.delayed&&(r.delayed=!1),r.pauseQueue.delete(A),r.timeouts.delete(h),e<=(r.cancelId||0)&&(d=!0);try{i.start(ut({},s,{callId:e,cancel:d}),o)}catch(t){a(t)}}}))}const Pt=(e,t)=>1==t.length?t[0]:t.some((e=>e.cancelled))?xt(e.get()):t.every((e=>e.noop))?Lt(e.get()):Ot(e.get(),t.every((e=>e.finished))),Lt=e=>({value:e,noop:!0,finished:!0,cancelled:!1}),Ot=(e,t,s=!1)=>({value:e,finished:t,cancelled:s}),xt=e=>({value:e,cancelled:!0,finished:!1});function Ut(e,t,s,n){const{callId:r,parentId:i,onRest:o}=t,{asyncTo:a,promise:u}=s;return i||e!==a||t.reset?s.promise=(async()=>{s.asyncId=r,s.asyncTo=e;const l=pt(t,((e,t)=>"onRest"===t?void 0:e));let h,d;const A=new Promise(((e,t)=>(h=e,d=t))),B=e=>{const t=r<=(s.cancelId||0)&&xt(n)||r!==s.asyncId&&Ot(n,!1);if(t)throw e.result=t,d(e),e},p=(e,t)=>{const i=new kt,o=new Qt;return(async()=>{if(x.skipAnimation)throw Kt(s),o.result=Ot(n,!1),d(o),o;B(i);const a=G.obj(e)?ut({},e):ut({},t,{to:e});a.parentId=r,R(l,((e,t)=>{G.und(a[t])&&(a[t]=e)}));const c=await n.start(a);return B(i),s.paused&&await new Promise((e=>{s.resumeQueue.add(e)})),c})()};let f;if(x.skipAnimation)return Kt(s),Ot(n,!1);try{let t;t=G.arr(e)?(async e=>{for(const t of e)await p(t)})(e):Promise.resolve(e(p,n.stop.bind(n))),await Promise.all([t.then(h),A]),f=Ot(n.get(),!0,!1)}catch(m){if(m instanceof kt)f=m.result;else{if(!(m instanceof Qt))throw m;f=m.result}}finally{r==s.asyncId&&(s.asyncId=i,s.asyncTo=i?a:void 0,s.promise=i?u:void 0)}return G.fun(o)&&c.batchedUpdates((()=>{o(f,n,n.item)})),f})():u}function Kt(e,t){_(e.timeouts,(e=>e.cancel())),e.pauseQueue.clear(),e.resumeQueue.clear(),e.asyncId=e.asyncTo=e.promise=void 0,t&&(e.cancelId=t)}class kt extends Error{constructor(){super("An async animation has been interrupted. You see this error because you forgot to use `await` or `.catch(...)` on its returned promise."),this.result=void 0}}class Qt extends Error{constructor(){super("SkipAnimationSignal"),this.result=void 0}}const Nt=e=>e instanceof jt;let Xt=1;class jt extends class{constructor(e){if(this[pe]=void 0,this[fe]=void 0,!e&&!(e=this.get))throw Error("Unknown getter");ve(this,e)}}{constructor(...e){super(...e),this.id=Xt++,this.key=void 0,this._priority=0}get priority(){return this._priority}set priority(e){this._priority!=e&&(this._priority=e,this._onPriorityChange(e))}get(){const e=Ye(this);return e&&e.getValue()}to(...e){return x.to(this,e)}interpolate(...e){return Le(`${Se}The "interpolate" function is deprecated in v9 (use "to" instead)`),x.to(this,e)}toJSON(){return this.get()}observerAdded(e){1==e&&this._attach()}observerRemoved(e){0==e&&this._detach()}_attach(){}_detach(){}_onChange(e,t=!1){Me(this,{type:"change",parent:this,value:e,idle:t})}_onPriorityChange(e){this.idle||N.sort(this),Me(this,{type:"priority",parent:this,priority:e})}}const Yt=Symbol.for("SpringPhase"),Vt=e=>(1&e[Yt])>0,Zt=e=>(2&e[Yt])>0,Wt=e=>(4&e[Yt])>0,qt=(e,t)=>t?e[Yt]|=3:e[Yt]&=-3,zt=(e,t)=>t?e[Yt]|=4:e[Yt]&=-5;class $t extends jt{constructor(e,t){if(super(),this.key=void 0,this.animation=new wt,this.queue=void 0,this.defaultProps={},this._state={paused:!1,delayed:!1,pauseQueue:new Set,resumeQueue:new Set,timeouts:new Set},this._pendingCalls=new Set,this._lastCallId=0,this._lastToId=0,this._memoizedDuration=0,!G.und(e)||!G.und(t)){const s=G.obj(e)?ut({},e):ut({},t,{from:e});G.und(s.default)&&(s.default=!0),this.start(s)}}get idle(){return!(Zt(this)||this._state.asyncTo)||Wt(this)}get goal(){return Ce(this.animation.to)}get velocity(){const e=Ye(this);return e instanceof qe?e.lastVelocity||0:e.getPayload().map((e=>e.lastVelocity||0))}get hasAnimated(){return Vt(this)}get isAnimating(){return Zt(this)}get isPaused(){return Wt(this)}get isDelayed(){return this._state.delayed}advance(e){let t=!0,s=!1;const n=this.animation;let{config:r,toValues:i}=n;const o=Ze(n.to);!o&&me(n.to)&&(i=H(Ce(n.to))),n.values.forEach(((a,c)=>{if(a.done)return;const u=a.constructor==ze?1:o?o[c].lastPosition:i[c];let l=n.immediate,h=u;if(!l){if(h=a.lastPosition,r.tension<=0)return void(a.done=!0);let t=a.elapsedTime+=e;const s=n.fromValues[c],i=null!=a.v0?a.v0:a.v0=G.arr(r.velocity)?r.velocity[c]:r.velocity;let o;if(G.und(r.duration))if(r.decay){const e=!0===r.decay?.998:r.decay,n=Math.exp(-(1-e)*t);h=s+i/(1-e)*(1-n),l=Math.abs(a.lastPosition-h)<.1,o=i*n}else{o=null==a.lastVelocity?i:a.lastVelocity;const t=r.precision||(s==u?.005:Math.min(1,.001*Math.abs(u-s))),n=r.restVelocity||t/10,c=r.clamp?0:r.bounce,d=!G.und(c),A=s==u?a.v0>0:s<u;let B,p=!1;const f=1,m=Math.ceil(e/f);for(let e=0;e<m&&(B=Math.abs(o)>n,B||(l=Math.abs(u-h)<=t,!l));++e){d&&(p=h==u||h>u==A,p&&(o=-o*c,h=u));o+=(1e-6*-r.tension*(h-u)+.001*-r.friction*o)/r.mass*f,h+=o*f}}else{let n=1;r.duration>0&&(this._memoizedDuration!==r.duration&&(this._memoizedDuration=r.duration,a.durationProgress>0&&(a.elapsedTime=r.duration*a.durationProgress,t=a.elapsedTime+=e)),n=(r.progress||0)+t/this._memoizedDuration,n=n>1?1:n<0?0:n,a.durationProgress=n),h=s+r.easing(n)*(u-s),o=(h-a.lastPosition)/e,l=1==n}a.lastVelocity=o,Number.isNaN(h)&&(console.warn("Got NaN while animating:",this),l=!0)}o&&!o[c].done&&(l=!1),l?a.done=!0:t=!1,a.setValue(h,r.round)&&(s=!0)}));const a=Ye(this),c=a.getValue();if(t){const e=Ce(n.to);c===e&&!s||r.decay?s&&r.decay&&this._onChange(c):(a.setValue(e),this._onChange(e)),this._stop()}else s&&this._onChange(c)}set(e){return c.batchedUpdates((()=>{this._stop(),this._focus(e),this._set(e)})),this}pause(){this._update({pause:!0})}resume(){this._update({pause:!1})}finish(){if(Zt(this)){const{to:e,config:t}=this.animation;c.batchedUpdates((()=>{this._onStart(),t.decay||this._set(e,!1),this._stop()}))}return this}update(e){return(this.queue||(this.queue=[])).push(e),this}start(e,t){let s;return G.und(e)?(s=this.queue||[],this.queue=[]):s=[G.obj(e)?e:ut({},t,{to:e})],Promise.all(s.map((e=>this._update(e)))).then((e=>Pt(this,e)))}stop(e){const{to:t}=this.animation;return this._focus(this.get()),Kt(this._state,e&&this._lastCallId),c.batchedUpdates((()=>this._stop(t,e))),this}reset(){this._update({reset:!0})}eventObserved(e){"change"==e.type?this._start():"priority"==e.type&&(this.priority=e.priority+1)}_prepareNode(e){const t=this.key||"";let{to:s,from:n}=e;s=G.obj(s)?s[t]:s,(null==s||vt(s))&&(s=void 0),n=G.obj(n)?n[t]:n,null==n&&(n=void 0);const r={to:s,from:n};return Vt(this)||(e.reverse&&([s,n]=[n,s]),n=Ce(n),G.und(n)?Ye(this)||this._set(s):this._set(n)),r}_update(e,t){let s=ut({},e);const{key:n,defaultProps:r}=this;s.default&&Object.assign(r,pt(s,((e,t)=>/^on/.test(t)?dt(e,n):e))),os(this,s,"onProps"),as(this,"onProps",s,this);const i=this._prepareNode(s);if(Object.isFrozen(this))throw Error("Cannot animate a `SpringValue` object that is frozen. Did you forget to pass your component to `animated(...)` before animating its props?");const o=this._state;return St(++this._lastCallId,{key:n,props:s,defaultProps:r,state:o,actions:{pause:()=>{Wt(this)||(zt(this,!0),T(o.pauseQueue),as(this,"onPause",Ot(this,es(this,this.animation.to)),this))},resume:()=>{Wt(this)&&(zt(this,!1),Zt(this)&&this._resume(),T(o.resumeQueue),as(this,"onResume",Ot(this,es(this,this.animation.to)),this))},start:this._merge.bind(this,i)}}).then((e=>{if(s.loop&&e.finished&&(!t||!e.noop)){const e=ts(s);if(e)return this._update(e,!0)}return e}))}_merge(e,t,s){if(t.cancel)return this.stop(!0),s(xt(this));const n=!G.und(e.to),r=!G.und(e.from);if(n||r){if(!(t.callId>this._lastToId))return s(xt(this));this._lastToId=t.callId}const{key:i,defaultProps:o,animation:a}=this,{to:u,from:l}=a;let{to:h=u,from:d=l}=e;!r||n||t.default&&!G.und(h)||(h=d),t.reverse&&([h,d]=[d,h]);const A=!b(d,l);A&&(a.from=d),d=Ce(d);const B=!b(h,u);B&&this._focus(h);const p=vt(t.to),{config:f}=a,{decay:m,velocity:C}=f;(n||r)&&(f.velocity=0),t.config&&!p&&function(e,t,s){s&&(Tt(s=ut({},s),t),t=ut({},s,t)),Tt(e,t),Object.assign(e,t);for(const o in Ht)null==e[o]&&(e[o]=Ht[o]);let{mass:n,frequency:r,damping:i}=e;G.und(r)||(r<.01&&(r=.01),i<0&&(i=0),e.tension=Math.pow(2*Math.PI/r,2)*n,e.friction=4*Math.PI*i*n/r)}(f,lt(t.config,i),t.config!==o.config?lt(o.config,i):void 0);let g=Ye(this);if(!g||G.und(h))return s(Ot(this,!0));const M=G.und(t.reset)?r&&!t.default:!G.und(d)&&ht(t.reset,i),v=M?d:this.get(),E=gt(h),F=G.num(E)||G.arr(E)||xe(E),y=!p&&(!F||ht(o.immediate||t.immediate,i));if(B){const e=nt(h);if(e!==g.constructor){if(!y)throw Error(`Cannot animate between ${g.constructor.name} and ${e.name}, as the "to" prop suggests`);g=this._set(E)}}const I=g.constructor;let R=me(h),_=!1;if(!R){const e=M||!Vt(this)&&A;(B||e)&&(_=b(gt(v),E),R=!_),(b(a.immediate,y)||y)&&b(f.decay,m)&&b(f.velocity,C)||(R=!0)}if(_&&Zt(this)&&(a.changed&&!M?R=!0:R||this._stop(u)),!p&&((R||me(u))&&(a.values=g.getPayload(),a.toValues=me(h)?null:I==ze?[1]:H(E)),a.immediate!=y&&(a.immediate=y,y||M||this._set(u)),R)){const{onRest:e}=a;D(is,(e=>os(this,t,e)));const n=Ot(this,es(this,u));T(this._pendingCalls,n),this._pendingCalls.add(s),a.changed&&c.batchedUpdates((()=>{a.changed=!M,null==e||e(n,this),M?lt(o.onRest,n):null==a.onStart||a.onStart(n,this)}))}M&&this._set(v),p?s(Ut(t.to,t,this._state,this)):R?this._start():Zt(this)&&!B?this._pendingCalls.add(s):s(Lt(v))}_focus(e){const t=this.animation;e!==t.to&&(ge(this)&&this._detach(),t.to=e,ge(this)&&this._attach())}_attach(){let e=0;const{to:t}=this.animation;me(t)&&(Ee(t,this),Nt(t)&&(e=t.priority+1)),this.priority=e}_detach(){const{to:e}=this.animation;me(e)&&Fe(e,this)}_set(e,t=!0){const s=Ce(e);if(!G.und(s)){const e=Ye(this);if(!e||!b(s,e.getValue())){const n=nt(s);e&&e.constructor==n?e.setValue(s):Ve(this,n.create(s)),e&&c.batchedUpdates((()=>{this._onChange(s,t)}))}}return Ye(this)}_onStart(){const e=this.animation;e.changed||(e.changed=!0,as(this,"onStart",Ot(this,es(this,e.to)),this))}_onChange(e,t){t||(this._onStart(),lt(this.animation.onChange,e,this)),lt(this.defaultProps.onChange,e,this),super._onChange(e,t)}_start(){const e=this.animation;Ye(this).reset(Ce(e.to)),e.immediate||(e.fromValues=e.values.map((e=>e.lastPosition))),Zt(this)||(qt(this,!0),Wt(this)||this._resume())}_resume(){x.skipAnimation?this.finish():N.start(this)}_stop(e,t){if(Zt(this)){qt(this,!1);const s=this.animation;D(s.values,(e=>{e.done=!0})),s.toValues&&(s.onChange=s.onPause=s.onResume=void 0),Me(this,{type:"idle",parent:this});const n=t?xt(this.get()):Ot(this.get(),es(this,null!=e?e:s.to));T(this._pendingCalls,n),s.changed&&(s.changed=!1,as(this,"onRest",n,this))}}}function es(e,t){const s=gt(t);return b(gt(e.get()),s)}function ts(e,t=e.loop,s=e.to){let n=lt(t);if(n){const r=!0!==n&&Ct(n),i=(r||e).reverse,o=!r||r.reset;return ss(ut({},e,{loop:t,default:!1,pause:void 0,to:!i||vt(s)?s:void 0,from:o?e.from:void 0,reset:o},r))}}function ss(e){const{to:t,from:s}=e=Ct(e),n=new Set;return G.obj(t)&&rs(t,n),G.obj(s)&&rs(s,n),e.keys=n.size?Array.from(n):null,e}function ns(e){const t=ss(e);return G.und(t.default)&&(t.default=pt(t)),t}function rs(e,t){R(e,((e,s)=>null!=e&&t.add(s)))}const is=["onStart","onRest","onChange","onPause","onResume"];function os(e,t,s){e.animation[s]=t[s]!==At(t,s)?dt(t[s],e.key):void 0}function as(e,t,...s){var n,r,i,o;null==(n=(r=e.animation)[t])||n.call(r,...s),null==(i=(o=e.defaultProps)[t])||i.call(o,...s)}const cs=["onStart","onChange","onRest"];let us=1;class ls{constructor(e,t){this.id=us++,this.springs={},this.queue=[],this.ref=void 0,this._flush=void 0,this._initialProps=void 0,this._lastAsyncId=0,this._active=new Set,this._changed=new Set,this._started=!1,this._item=void 0,this._state={paused:!1,pauseQueue:new Set,resumeQueue:new Set,timeouts:new Set},this._events={onStart:new Map,onChange:new Map,onRest:new Map},this._onFrame=this._onFrame.bind(this),t&&(this._flush=t),e&&this.start(ut({default:!0},e))}get idle(){return!this._state.asyncTo&&Object.values(this.springs).every((e=>e.idle&&!e.isDelayed&&!e.isPaused))}get item(){return this._item}set item(e){this._item=e}get(){const e={};return this.each(((t,s)=>e[s]=t.get())),e}set(e){for(const t in e){const s=e[t];G.und(s)||this.springs[t].set(s)}}update(e){return e&&this.queue.push(ss(e)),this}start(e){let{queue:t}=this;return e?t=H(e).map(ss):this.queue=[],this._flush?this._flush(this,t):(ms(this,t),hs(this,t))}stop(e,t){if(e!==!!e&&(t=e),t){const s=this.springs;D(H(t),(t=>s[t].stop(!!e)))}else Kt(this._state,this._lastAsyncId),this.each((t=>t.stop(!!e)));return this}pause(e){if(G.und(e))this.start({pause:!0});else{const t=this.springs;D(H(e),(e=>t[e].pause()))}return this}resume(e){if(G.und(e))this.start({pause:!1});else{const t=this.springs;D(H(e),(e=>t[e].resume()))}return this}each(e){R(this.springs,e)}_onFrame(){const{onStart:e,onChange:t,onRest:s}=this._events,n=this._active.size>0,r=this._changed.size>0;(n&&!this._started||r&&!this._started)&&(this._started=!0,_(e,(([e,t])=>{t.value=this.get(),e(t,this,this._item)})));const i=!n&&this._started,o=r||i&&s.size?this.get():null;r&&t.size&&_(t,(([e,t])=>{t.value=o,e(t,this,this._item)})),i&&(this._started=!1,_(s,(([e,t])=>{t.value=o,e(t,this,this._item)})))}eventObserved(e){if("change"==e.type)this._changed.add(e.parent),e.idle||this._active.add(e.parent);else{if("idle"!=e.type)return;this._active.delete(e.parent)}c.onFrame(this._onFrame)}}function hs(e,t){return Promise.all(t.map((t=>ds(e,t)))).then((t=>Pt(e,t)))}async function ds(e,t,s){const{keys:n,to:r,from:i,loop:o,onRest:a,onResolve:u}=t,l=G.obj(t.default)&&t.default;o&&(t.loop=!1),!1===r&&(t.to=null),!1===i&&(t.from=null);const h=G.arr(r)||G.fun(r)?r:void 0;h?(t.to=void 0,t.onRest=void 0,l&&(l.onRest=void 0)):D(cs,(s=>{const n=t[s];if(G.fun(n)){const r=e._events[s];t[s]=({finished:e,cancelled:t})=>{const s=r.get(n);s?(e||(s.finished=!1),t&&(s.cancelled=!0)):r.set(n,{value:null,finished:e||!1,cancelled:t||!1})},l&&(l[s]=t[s])}}));const d=e._state;t.pause===!d.paused?(d.paused=t.pause,T(t.pause?d.pauseQueue:d.resumeQueue)):d.paused&&(t.pause=!0);const A=(n||Object.keys(e.springs)).map((s=>e.springs[s].start(t))),B=!0===t.cancel||!0===At(t,"cancel");(h||B&&d.asyncId)&&A.push(St(++e._lastAsyncId,{props:t,state:d,actions:{pause:I,resume:I,start(t,s){B?(Kt(d,e._lastAsyncId),s(xt(e))):(t.onRest=a,s(Ut(h,t,d,e)))}}})),d.paused&&await new Promise((e=>{d.resumeQueue.add(e)}));const p=Pt(e,await Promise.all(A));if(o&&p.finished&&(!s||!p.noop)){const s=ts(t,o,r);if(s)return ms(e,[s]),ds(e,s,!0)}return u&&c.batchedUpdates((()=>u(p,e,e.item))),p}function As(e,t){const s=ut({},e.springs);return t&&D(H(t),(e=>{G.und(e.keys)&&(e=ss(e)),G.obj(e.to)||(e=ut({},e,{to:void 0})),fs(s,e,(e=>ps(e)))})),Bs(e,s),s}function Bs(e,t){R(t,((t,s)=>{e.springs[s]||(e.springs[s]=t,Ee(t,e))}))}function ps(e,t){const s=new $t;return s.key=e,t&&Ee(s,t),s}function fs(e,t,s){t.keys&&D(t.keys,(n=>{(e[n]||(e[n]=s(n)))._prepareNode(t)}))}function ms(e,t){D(t,(t=>{fs(e.springs,t,(t=>ps(t,e)))}))}function Cs(e,t){if(null==e)return{};var s,n,r={},i=Object.keys(e);for(n=0;n<i.length;n++)s=i[n],t.indexOf(s)>=0||(r[s]=e[s]);return r}const gs=["children"],Ms=e=>{let{children:t}=e,s=Cs(e,gs);const n=(0,r.useContext)(vs),i=s.pause||!!n.pause,o=s.immediate||!!n.immediate;s=function(e,t){const[s]=(0,r.useState)((()=>({inputs:t,result:e()}))),n=(0,r.useRef)(),i=n.current;let o=i;o?Boolean(t&&o.inputs&&function(e,t){if(e.length!==t.length)return!1;for(let s=0;s<e.length;s++)if(e[s]!==t[s])return!1;return!0}(t,o.inputs))||(o={inputs:t,result:e()}):o=s;return(0,r.useEffect)((()=>{n.current=o,i==s&&(s.inputs=s.result=void 0)}),[o]),o.result}((()=>({pause:i,immediate:o})),[i,o]);const{Provider:a}=vs;return r.createElement(a,{value:s},t)},vs=(Es=Ms,Fs={},Object.assign(Es,r.createContext(Fs)),Es.Provider._context=Es,Es.Consumer._context=Es,Es);var Es,Fs;Ms.Provider=vs.Provider,Ms.Consumer=vs.Consumer;const ys=()=>{const e=[],t=function(t){Oe(`${Se}Directly calling start instead of using the api object is deprecated in v9 (use ".start" instead), this will be removed in later 0.X.0 versions`);const n=[];return D(e,((e,r)=>{if(G.und(t))n.push(e.start());else{const i=s(t,e,r);i&&n.push(e.start(i))}})),n};t.current=e,t.add=function(t){e.includes(t)||e.push(t)},t.delete=function(t){const s=e.indexOf(t);~s&&e.splice(s,1)},t.pause=function(){return D(e,(e=>e.pause(...arguments))),this},t.resume=function(){return D(e,(e=>e.resume(...arguments))),this},t.set=function(t){D(e,(e=>e.set(t)))},t.start=function(t){const s=[];return D(e,((e,n)=>{if(G.und(t))s.push(e.start());else{const r=this._getProps(t,e,n);r&&s.push(e.start(r))}})),s},t.stop=function(){return D(e,(e=>e.stop(...arguments))),this},t.update=function(t){return D(e,((e,s)=>e.update(this._getProps(t,e,s)))),this};const s=function(e,t,s){return G.fun(e)?e(s,t):e};return t._getProps=s,t};function Is(e,t,s){const n=G.fun(t)&&t;n&&!s&&(s=[]);const i=(0,r.useMemo)((()=>n||3==arguments.length?ys():void 0),[]),o=(0,r.useRef)(0),a=ke(),c=(0,r.useMemo)((()=>({ctrls:[],queue:[],flush(e,t){const s=As(e,t);return o.current>0&&!c.queue.length&&!Object.keys(s).some((t=>!e.springs[t]))?hs(e,t):new Promise((n=>{Bs(e,s),c.queue.push((()=>{n(hs(e,t))})),a()}))}})),[]),u=(0,r.useRef)([...c.ctrls]),l=[],h=Ne(e)||0;function d(e,s){for(let r=e;r<s;r++){const e=u.current[r]||(u.current[r]=new ls(null,c.flush)),s=n?n(r,e):t[r];s&&(l[r]=ns(s))}}(0,r.useMemo)((()=>{D(u.current.slice(e,h),(e=>{Et(e,i),e.stop(!0)})),u.current.length=e,d(h,e)}),[e]),(0,r.useMemo)((()=>{d(0,Math.min(h,e))}),s);const A=u.current.map(((e,t)=>As(e,l[t]))),B=(0,r.useContext)(Ms),p=Ne(B),f=B!==p&&Mt(B);Xe((()=>{o.current++,c.ctrls=u.current;const{queue:e}=c;e.length&&(c.queue=[],D(e,(e=>e()))),D(u.current,((e,t)=>{null==i||i.add(e),f&&e.start({default:B});const s=l[t];s&&(Ft(e,s.ref),e.ref?e.queue.push(s):e.start(s))}))})),Ue((()=>()=>{D(c.ctrls,(e=>e.stop(!0)))}));const m=A.map((e=>ut({},e)));return i?[m,i]:m}function Gs(e,t){const s=G.fun(e),[[n],r]=Is(1,s?e:[e],s?t||[]:t);return s||2==arguments.length?[n,r]:n}let bs;!function(e){e.MOUNT="mount",e.ENTER="enter",e.UPDATE="update",e.LEAVE="leave"}(bs||(bs={}));class Ds extends jt{constructor(e,t){super(),this.key=void 0,this.idle=!0,this.calc=void 0,this._active=new Set,this.source=e,this.calc=Ae(...t);const s=this._get(),n=nt(s);Ve(this,n.create(s))}advance(e){const t=this._get();b(t,this.get())||(Ye(this).setValue(t),this._onChange(t,this.idle)),!this.idle&&Hs(this._active)&&_s(this)}_get(){const e=G.arr(this.source)?this.source.map(Ce):H(Ce(this.source));return this.calc(...e)}_start(){this.idle&&!Hs(this._active)&&(this.idle=!1,D(Ze(this),(e=>{e.done=!1})),x.skipAnimation?(c.batchedUpdates((()=>this.advance())),_s(this)):N.start(this))}_attach(){let e=1;D(H(this.source),(t=>{me(t)&&Ee(t,this),Nt(t)&&(t.idle||this._active.add(t),e=Math.max(e,t.priority+1))})),this.priority=e,this._start()}_detach(){D(H(this.source),(e=>{me(e)&&Fe(e,this)})),this._active.clear(),_s(this)}eventObserved(e){"change"==e.type?e.idle?this.advance():(this._active.add(e.parent),this._start()):"idle"==e.type?this._active.delete(e.parent):"priority"==e.type&&(this.priority=H(this.source).reduce(((e,t)=>Math.max(e,(Nt(t)?t.priority:0)+1)),0))}}function Rs(e){return!1!==e.idle}function Hs(e){return!e.size||Array.from(e).every(Rs)}function _s(e){e.idle||(e.idle=!0,D(Ze(e),(e=>{e.done=!0})),Me(e,{type:"idle",parent:e}))}x.assign({createStringInterpolator:we,to:(e,t)=>new Ds(e,t)});N.advance;const Ts=["primitive"].concat(Object.keys(i).filter((e=>/^[A-Z]/.test(e))).map((e=>e[0].toLowerCase()+e.slice(1))));x.assign({createStringInterpolator:we,colors:{transparent:0,aliceblue:4042850303,antiquewhite:4209760255,aqua:16777215,aquamarine:2147472639,azure:4043309055,beige:4126530815,bisque:4293182719,black:255,blanchedalmond:4293643775,blue:65535,blueviolet:2318131967,brown:2771004159,burlywood:3736635391,burntsienna:3934150143,cadetblue:1604231423,chartreuse:2147418367,chocolate:3530104575,coral:4286533887,cornflowerblue:1687547391,cornsilk:4294499583,crimson:3692313855,cyan:16777215,darkblue:35839,darkcyan:9145343,darkgoldenrod:3095792639,darkgray:2846468607,darkgreen:6553855,darkgrey:2846468607,darkkhaki:3182914559,darkmagenta:2332068863,darkolivegreen:1433087999,darkorange:4287365375,darkorchid:2570243327,darkred:2332033279,darksalmon:3918953215,darkseagreen:2411499519,darkslateblue:1211993087,darkslategray:793726975,darkslategrey:793726975,darkturquoise:13554175,darkviolet:2483082239,deeppink:4279538687,deepskyblue:12582911,dimgray:1768516095,dimgrey:1768516095,dodgerblue:512819199,firebrick:2988581631,floralwhite:4294635775,forestgreen:579543807,fuchsia:4278255615,gainsboro:3705462015,ghostwhite:4177068031,gold:4292280575,goldenrod:3668254975,gray:2155905279,green:8388863,greenyellow:2919182335,grey:2155905279,honeydew:4043305215,hotpink:4285117695,indianred:3445382399,indigo:1258324735,ivory:4294963455,khaki:4041641215,lavender:3873897215,lavenderblush:4293981695,lawngreen:2096890111,lemonchiffon:4294626815,lightblue:2916673279,lightcoral:4034953471,lightcyan:3774873599,lightgoldenrodyellow:4210742015,lightgray:3553874943,lightgreen:2431553791,lightgrey:3553874943,lightpink:4290167295,lightsalmon:4288707327,lightseagreen:548580095,lightskyblue:2278488831,lightslategray:2005441023,lightslategrey:2005441023,lightsteelblue:2965692159,lightyellow:4294959359,lime:16711935,limegreen:852308735,linen:4210091775,magenta:4278255615,maroon:2147483903,mediumaquamarine:1724754687,mediumblue:52735,mediumorchid:3126187007,mediumpurple:2473647103,mediumseagreen:1018393087,mediumslateblue:2070474495,mediumspringgreen:16423679,mediumturquoise:1221709055,mediumvioletred:3340076543,midnightblue:421097727,mintcream:4127193855,mistyrose:4293190143,moccasin:4293178879,navajowhite:4292783615,navy:33023,oldlace:4260751103,olive:2155872511,olivedrab:1804477439,orange:4289003775,orangered:4282712319,orchid:3664828159,palegoldenrod:4008225535,palegreen:2566625535,paleturquoise:2951671551,palevioletred:3681588223,papayawhip:4293907967,peachpuff:4292524543,peru:3448061951,pink:4290825215,plum:3718307327,powderblue:2967529215,purple:2147516671,rebeccapurple:1714657791,red:4278190335,rosybrown:3163525119,royalblue:1097458175,saddlebrown:2336560127,salmon:4202722047,sandybrown:4104413439,seagreen:780883967,seashell:4294307583,sienna:2689740287,silver:3233857791,skyblue:2278484991,slateblue:1784335871,slategray:1887473919,slategrey:1887473919,snow:4294638335,springgreen:16744447,steelblue:1182971135,tan:3535047935,teal:8421631,thistle:3636451583,tomato:4284696575,turquoise:1088475391,violet:4001558271,wheat:4125012991,white:4294967295,whitesmoke:4126537215,yellow:4294902015,yellowgreen:2597139199},frameLoop:"demand"}),(0,o.gy)((()=>{c.advance()}));const Js=((e,{applyAnimatedValues:t=(()=>!1),createAnimatedStyle:s=(e=>new et(e)),getComponentProps:n=(e=>e)}={})=>{const r={applyAnimatedValues:t,createAnimatedStyle:s,getComponentProps:n},i=e=>{const t=ct(e)||"Anonymous";return(e=G.str(e)?i[e]||(i[e]=it(e,r)):e[at]||(e[at]=it(e,r))).displayName=`Animated(${t})`,e};return R(e,((t,s)=>{G.arr(e)&&(s=ct(t)),i[s]=i(t)})),{animated:i}})(Ts,{applyAnimatedValues:o.nH}),ws=Js.animated;const Ss={toVector:(e,t)=>(void 0===e&&(e=t),Array.isArray(e)?e:[e,e]),add:(e,t)=>[e[0]+t[0],e[1]+t[1]],sub:(e,t)=>[e[0]-t[0],e[1]-t[1]],addTo(e,t){e[0]+=t[0],e[1]+=t[1]},subTo(e,t){e[0]-=t[0],e[1]-=t[1]}};function Ps(e,t,s){return 0===t||Math.abs(t)===1/0?Math.pow(e,5*s):e*t*s/(t+s*e)}function Ls(e,t,s,n=.15){return 0===n?function(e,t,s){return Math.max(t,Math.min(e,s))}(e,t,s):e<t?-Ps(t-e,s-t,n)+t:e>s?+Ps(e-s,s-t,n)+s:e}function Os(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}function xs(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,n)}return s}function Us(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?xs(Object(s),!0).forEach((function(t){Os(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):xs(Object(s)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}const Ks={pointer:{start:"down",change:"move",end:"up"},mouse:{start:"down",change:"move",end:"up"},touch:{start:"start",change:"move",end:"end"},gesture:{start:"start",change:"change",end:"end"}};function ks(e){return e?e[0].toUpperCase()+e.slice(1):""}const Qs=["gotpointercapture","lostpointercapture"];function Ns(e){let t=e.substring(2).toLowerCase();const s=!!~t.indexOf("passive");s&&(t=t.replace("passive",""));const n=Qs.includes(t)?"capturecapture":"capture",r=!!~t.indexOf(n);return r&&(t=t.replace("capture","")),{device:t,capture:r,passive:s}}function Xs(e){return"touches"in e}function js(e){return Xs(e)?"touch":"pointerType"in e?e.pointerType:"mouse"}function Ys(e){return Xs(e)?function(e){return"touchend"===e.type||"touchcancel"===e.type?e.changedTouches:e.targetTouches}(e)[0]:e}function Vs(e,t){const s=t.clientX-e.clientX,n=t.clientY-e.clientY,r=(t.clientX+e.clientX)/2,i=(t.clientY+e.clientY)/2,o=Math.hypot(s,n);return{angle:-180*Math.atan2(s,n)/Math.PI,distance:o,origin:[r,i]}}function Zs(e){return function(e){return Array.from(e.touches).filter((t=>{var s,n;return t.target===e.currentTarget||(null===(s=e.currentTarget)||void 0===s||null===(n=s.contains)||void 0===n?void 0:n.call(s,t.target))}))}(e).map((e=>e.identifier))}function Ws(e,t){const[s,n]=Array.from(e.touches).filter((e=>t.includes(e.identifier)));return Vs(s,n)}function qs(e){const t=Ys(e);return Xs(e)?t.identifier:t.pointerId}function zs(e){const t=Ys(e);return[t.clientX,t.clientY]}function $s(e){let{deltaX:t,deltaY:s,deltaMode:n}=e;return 1===n?(t*=40,s*=40):2===n&&(t*=800,s*=800),[t,s]}function en(e,...t){return"function"===typeof e?e(...t):e}function tn(){}function sn(...e){return 0===e.length?tn:1===e.length?e[0]:function(){let t;for(const s of e)t=s.apply(this,arguments)||t;return t}}function nn(e,t){return Object.assign({},t,e||{})}class rn{constructor(e,t,s){this.ctrl=e,this.args=t,this.key=s,this.state||(this.state={},this.computeValues([0,0]),this.computeInitial(),this.init&&this.init(),this.reset())}get state(){return this.ctrl.state[this.key]}set state(e){this.ctrl.state[this.key]=e}get shared(){return this.ctrl.state.shared}get eventStore(){return this.ctrl.gestureEventStores[this.key]}get timeoutStore(){return this.ctrl.gestureTimeoutStores[this.key]}get config(){return this.ctrl.config[this.key]}get sharedConfig(){return this.ctrl.config.shared}get handler(){return this.ctrl.handlers[this.key]}reset(){const{state:e,shared:t,ingKey:s,args:n}=this;t[s]=e._active=e.active=e._blocked=e._force=!1,e._step=[!1,!1],e.intentional=!1,e._movement=[0,0],e._distance=[0,0],e._direction=[0,0],e._delta=[0,0],e._bounds=[[-1/0,1/0],[-1/0,1/0]],e.args=n,e.axis=void 0,e.memo=void 0,e.elapsedTime=0,e.direction=[0,0],e.distance=[0,0],e.overflow=[0,0],e._movementBound=[!1,!1],e.velocity=[0,0],e.movement=[0,0],e.delta=[0,0],e.timeStamp=0}start(e){const t=this.state,s=this.config;t._active||(this.reset(),this.computeInitial(),t._active=!0,t.target=e.target,t.currentTarget=e.currentTarget,t.lastOffset=s.from?en(s.from,t):t.offset,t.offset=t.lastOffset),t.startTime=t.timeStamp=e.timeStamp}computeValues(e){const t=this.state;t._values=e,t.values=this.config.transform(e)}computeInitial(){const e=this.state;e._initial=e._values,e.initial=e.values}compute(e){const{state:t,config:s,shared:n}=this;t.args=this.args;let r=0;if(e&&(t.event=e,s.preventDefault&&e.cancelable&&t.event.preventDefault(),t.type=e.type,n.touches=this.ctrl.pointerIds.size||this.ctrl.touchIds.size,n.locked=!!document.pointerLockElement,Object.assign(n,function(e){const t={};if("buttons"in e&&(t.buttons=e.buttons),"shiftKey"in e){const{shiftKey:s,altKey:n,metaKey:r,ctrlKey:i}=e;Object.assign(t,{shiftKey:s,altKey:n,metaKey:r,ctrlKey:i})}return t}(e)),n.down=n.pressed=n.buttons%2===1||n.touches>0,r=e.timeStamp-t.timeStamp,t.timeStamp=e.timeStamp,t.elapsedTime=t.timeStamp-t.startTime),t._active){const e=t._delta.map(Math.abs);Ss.addTo(t._distance,e)}this.axisIntent&&this.axisIntent(e);const[i,o]=t._movement,[a,c]=s.threshold,{_step:u,values:l}=t;if(s.hasCustomTransform?(!1===u[0]&&(u[0]=Math.abs(i)>=a&&l[0]),!1===u[1]&&(u[1]=Math.abs(o)>=c&&l[1])):(!1===u[0]&&(u[0]=Math.abs(i)>=a&&Math.sign(i)*a),!1===u[1]&&(u[1]=Math.abs(o)>=c&&Math.sign(o)*c)),t.intentional=!1!==u[0]||!1!==u[1],!t.intentional)return;const h=[0,0];if(s.hasCustomTransform){const[e,t]=l;h[0]=!1!==u[0]?e-u[0]:0,h[1]=!1!==u[1]?t-u[1]:0}else h[0]=!1!==u[0]?i-u[0]:0,h[1]=!1!==u[1]?o-u[1]:0;this.restrictToAxis&&!t._blocked&&this.restrictToAxis(h);const d=t.offset,A=t._active&&!t._blocked||t.active;A&&(t.first=t._active&&!t.active,t.last=!t._active&&t.active,t.active=n[this.ingKey]=t._active,e&&(t.first&&("bounds"in s&&(t._bounds=en(s.bounds,t)),this.setup&&this.setup()),t.movement=h,this.computeOffset()));const[B,p]=t.offset,[[f,m],[C,g]]=t._bounds;t.overflow=[B<f?-1:B>m?1:0,p<C?-1:p>g?1:0],t._movementBound[0]=!!t.overflow[0]&&(!1===t._movementBound[0]?t._movement[0]:t._movementBound[0]),t._movementBound[1]=!!t.overflow[1]&&(!1===t._movementBound[1]?t._movement[1]:t._movementBound[1]);const M=t._active&&s.rubberband||[0,0];if(t.offset=function(e,[t,s],[n,r]){const[[i,o],[a,c]]=e;return[Ls(t,i,o,n),Ls(s,a,c,r)]}(t._bounds,t.offset,M),t.delta=Ss.sub(t.offset,d),this.computeMovement(),A&&(!t.last||r>32)){t.delta=Ss.sub(t.offset,d);const e=t.delta.map(Math.abs);Ss.addTo(t.distance,e),t.direction=t.delta.map(Math.sign),t._direction=t._delta.map(Math.sign),!t.first&&r>0&&(t.velocity=[e[0]/r,e[1]/r])}}emit(){const e=this.state,t=this.shared,s=this.config;if(e._active||this.clean(),(e._blocked||!e.intentional)&&!e._force&&!s.triggerAllEvents)return;const n=this.handler(Us(Us(Us({},t),e),{},{[this.aliasKey]:e.values}));void 0!==n&&(e.memo=n)}clean(){this.eventStore.clean(),this.timeoutStore.clean()}}class on extends rn{constructor(...e){super(...e),Os(this,"aliasKey","xy")}reset(){super.reset(),this.state.axis=void 0}init(){this.state.offset=[0,0],this.state.lastOffset=[0,0]}computeOffset(){this.state.offset=Ss.add(this.state.lastOffset,this.state.movement)}computeMovement(){this.state.movement=Ss.sub(this.state.offset,this.state.lastOffset)}axisIntent(e){const t=this.state,s=this.config;if(!t.axis&&e){const n="object"===typeof s.axisThreshold?s.axisThreshold[js(e)]:s.axisThreshold;t.axis=function([e,t],s){const n=Math.abs(e),r=Math.abs(t);return n>r&&n>s?"x":r>n&&r>s?"y":void 0}(t._movement,n)}t._blocked=(s.lockDirection||!!s.axis)&&!t.axis||!!s.axis&&s.axis!==t.axis}restrictToAxis(e){if(this.config.axis||this.config.lockDirection)switch(this.state.axis){case"x":e[1]=0;break;case"y":e[0]=0}}}const an=e=>e,cn={enabled:(e=!0)=>e,preventDefault:(e=!1)=>e,triggerAllEvents:(e=!1)=>e,rubberband(e=0){switch(e){case!0:return[.15,.15];case!1:return[0,0];default:return Ss.toVector(e)}},from:e=>"function"===typeof e?e:null!=e?Ss.toVector(e):void 0,transform(e,t,s){const n=e||s.shared.transform;return this.hasCustomTransform=!!n,n||an},threshold:e=>Ss.toVector(e,0)};const un=Us(Us({},cn),{},{axis(e,t,{axis:s}){if(this.lockDirection="lock"===s,!this.lockDirection)return s},axisThreshold:(e=0)=>e,bounds(e={}){if("function"===typeof e)return t=>un.bounds(e(t));if("current"in e)return()=>e.current;if("function"===typeof HTMLElement&&e instanceof HTMLElement)return e;const{left:t=-1/0,right:s=1/0,top:n=-1/0,bottom:r=1/0}=e;return[[t,s],[n,r]]}}),ln={ArrowRight:(e=1)=>[10*e,0],ArrowLeft:(e=1)=>[-10*e,0],ArrowUp:(e=1)=>[0,-10*e],ArrowDown:(e=1)=>[0,10*e]};const hn="undefined"!==typeof window&&window.document&&window.document.createElement;function dn(){return hn&&"ontouchstart"in window||hn&&window.navigator.maxTouchPoints>1}const An={isBrowser:hn,gesture:function(){try{return"constructor"in GestureEvent}catch(e){return!1}}(),touch:dn(),touchscreen:dn(),pointer:hn&&"onpointerdown"in window,pointerLock:hn&&"exitPointerLock"in window.document},Bn={mouse:0,touch:0,pen:8},pn=Us(Us({},un),{},{device(e,t,{pointer:{touch:s=!1,lock:n=!1,mouse:r=!1}={}}){return this.pointerLock=n&&An.pointerLock,An.touch&&s?"touch":this.pointerLock?"mouse":An.pointer&&!r?"pointer":An.touch?"touch":"mouse"},preventScrollAxis(e,t,{preventScroll:s}){if(this.preventScrollDelay="number"===typeof s?s:s||void 0===s&&e?250:void 0,An.touchscreen&&!1!==s)return e||(void 0!==s?"y":void 0)},pointerCapture(e,t,{pointer:{capture:s=!0,buttons:n=1}={}}){return this.pointerButtons=n,!this.pointerLock&&"pointer"===this.device&&s},threshold(e,t,{filterTaps:s=!1,tapsThreshold:n=3,axis:r}){const i=Ss.toVector(e,s?n:r?1:0);return this.filterTaps=s,this.tapsThreshold=n,i},swipe({velocity:e=.5,distance:t=50,duration:s=250}={}){return{velocity:this.transform(Ss.toVector(e)),distance:this.transform(Ss.toVector(t)),duration:s}},delay(e=0){switch(e){case!0:return 180;case!1:return 0;default:return e}},axisThreshold:e=>e?Us(Us({},Bn),e):Bn});const fn=Us(Us({},cn),{},{device(e,t,{shared:s,pointer:{touch:n=!1}={}}){if(s.target&&!An.touch&&An.gesture)return"gesture";if(An.touch&&n)return"touch";if(An.touchscreen){if(An.pointer)return"pointer";if(An.touch)return"touch"}},bounds(e,t,{scaleBounds:s={},angleBounds:n={}}){const r=e=>{const t=nn(en(s,e),{min:-1/0,max:1/0});return[t.min,t.max]},i=e=>{const t=nn(en(n,e),{min:-1/0,max:1/0});return[t.min,t.max]};return"function"!==typeof s&&"function"!==typeof n?[r(),i()]:e=>[r(e),i(e)]},threshold(e,t,s){this.lockDirection="lock"===s.axis;return Ss.toVector(e,this.lockDirection?[.1,3]:0)},modifierKey:e=>void 0===e?"ctrlKey":e});const mn=Us(Us({},un),{},{mouseOnly:(e=!0)=>e});const Cn=un;const gn=un;const Mn=Us(Us({},un),{},{mouseOnly:(e=!0)=>e}),vn=new Map,En=new Map;function Fn(e){vn.set(e.key,e.engine),En.set(e.key,e.resolver)}const yn={key:"drag",engine:class extends on{constructor(...e){super(...e),Os(this,"ingKey","dragging")}reset(){super.reset();const e=this.state;e._pointerId=void 0,e._pointerActive=!1,e._keyboardActive=!1,e._preventScroll=!1,e._delayed=!1,e.swipe=[0,0],e.tap=!1,e.canceled=!1,e.cancel=this.cancel.bind(this)}setup(){const e=this.state;if(e._bounds instanceof HTMLElement){const t=e._bounds.getBoundingClientRect(),s=e.currentTarget.getBoundingClientRect(),n={left:t.left-s.left+e.offset[0],right:t.right-s.right+e.offset[0],top:t.top-s.top+e.offset[1],bottom:t.bottom-s.bottom+e.offset[1]};e._bounds=un.bounds(n)}}cancel(){const e=this.state;e.canceled||(e.canceled=!0,e._active=!1,setTimeout((()=>{this.compute(),this.emit()}),0))}setActive(){this.state._active=this.state._pointerActive||this.state._keyboardActive}clean(){this.pointerClean(),this.state._pointerActive=!1,this.state._keyboardActive=!1,super.clean()}pointerDown(e){const t=this.config,s=this.state;(null==e.buttons||(Array.isArray(t.pointerButtons)?t.pointerButtons.includes(e.buttons):-1===t.pointerButtons||t.pointerButtons===e.buttons))&&(this.ctrl.setEventIds(e),t.pointerCapture&&e.target.setPointerCapture(e.pointerId),s._pointerActive||(this.start(e),this.setupPointer(e),s._pointerId=qs(e),s._pointerActive=!0,this.computeValues(zs(e)),this.computeInitial(),t.preventScrollAxis&&"mouse"!==js(e)?(s._active=!1,this.setupScrollPrevention(e)):t.delay>0?(this.setupDelayTrigger(e),t.triggerAllEvents&&(this.compute(e),this.emit())):this.startPointerDrag(e)))}startPointerDrag(e){const t=this.state;t._active=!0,t._preventScroll=!0,t._delayed=!1,this.compute(e),this.emit()}pointerMove(e){const t=this.state,s=this.config;if(!t._pointerActive)return;if(t.type===e.type&&e.timeStamp===t.timeStamp)return;const n=qs(e);if(void 0!==t._pointerId&&n!==t._pointerId)return;const r=zs(e);return document.pointerLockElement===e.target?t._delta=[e.movementX,e.movementY]:(t._delta=Ss.sub(r,t._values),this.computeValues(r)),Ss.addTo(t._movement,t._delta),this.compute(e),t._delayed&&t.intentional?(this.timeoutStore.remove("dragDelay"),t.active=!1,void this.startPointerDrag(e)):s.preventScrollAxis&&!t._preventScroll?t.axis?t.axis===s.preventScrollAxis||"xy"===s.preventScrollAxis?(t._active=!1,void this.clean()):(this.timeoutStore.remove("startPointerDrag"),void this.startPointerDrag(e)):void 0:void this.emit()}pointerUp(e){this.ctrl.setEventIds(e);try{this.config.pointerCapture&&e.target.hasPointerCapture(e.pointerId)&&e.target.releasePointerCapture(e.pointerId)}catch(o){0}const t=this.state,s=this.config;if(!t._active||!t._pointerActive)return;const n=qs(e);if(void 0!==t._pointerId&&n!==t._pointerId)return;this.state._pointerActive=!1,this.setActive(),this.compute(e);const[r,i]=t._distance;if(t.tap=r<=s.tapsThreshold&&i<=s.tapsThreshold,t.tap&&s.filterTaps)t._force=!0;else{const[e,n]=t.direction,[r,i]=t.velocity,[o,a]=t.movement,[c,u]=s.swipe.velocity,[l,h]=s.swipe.distance,d=s.swipe.duration;t.elapsedTime<d&&(Math.abs(r)>c&&Math.abs(o)>l&&(t.swipe[0]=e),Math.abs(i)>u&&Math.abs(a)>h&&(t.swipe[1]=n))}this.emit()}pointerClick(e){this.state.tap||(e.preventDefault(),e.stopPropagation())}setupPointer(e){const t=this.config,s=t.device;t.pointerLock&&e.currentTarget.requestPointerLock(),t.pointerCapture||(this.eventStore.add(this.sharedConfig.window,s,"change",this.pointerMove.bind(this)),this.eventStore.add(this.sharedConfig.window,s,"end",this.pointerUp.bind(this)),this.eventStore.add(this.sharedConfig.window,s,"cancel",this.pointerUp.bind(this)))}pointerClean(){this.config.pointerLock&&document.pointerLockElement===this.state.currentTarget&&document.exitPointerLock()}preventScroll(e){this.state._preventScroll&&e.cancelable&&e.preventDefault()}setupScrollPrevention(e){!function(e){"persist"in e&&"function"===typeof e.persist&&e.persist()}(e),this.eventStore.add(this.sharedConfig.window,"touch","change",this.preventScroll.bind(this),{passive:!1}),this.eventStore.add(this.sharedConfig.window,"touch","end",this.clean.bind(this)),this.eventStore.add(this.sharedConfig.window,"touch","cancel",this.clean.bind(this)),this.timeoutStore.add("startPointerDrag",this.startPointerDrag.bind(this),this.config.preventScrollDelay,e)}setupDelayTrigger(e){this.state._delayed=!0,this.timeoutStore.add("dragDelay",(()=>{this.state._step=[0,0],this.startPointerDrag(e)}),this.config.delay)}keyDown(e){const t=ln[e.key];if(t){const s=this.state,n=e.shiftKey?10:e.altKey?.1:1;s._delta=t(n),this.start(e),s._keyboardActive=!0,Ss.addTo(s._movement,s._delta),this.compute(e),this.emit()}}keyUp(e){e.key in ln&&(this.state._keyboardActive=!1,this.setActive(),this.compute(e),this.emit())}bind(e){const t=this.config.device;e(t,"start",this.pointerDown.bind(this)),this.config.pointerCapture&&(e(t,"change",this.pointerMove.bind(this)),e(t,"end",this.pointerUp.bind(this)),e(t,"cancel",this.pointerUp.bind(this)),e("lostPointerCapture","",this.pointerUp.bind(this))),e("key","down",this.keyDown.bind(this)),e("key","up",this.keyUp.bind(this)),this.config.filterTaps&&e("click","",this.pointerClick.bind(this),{capture:!0,passive:!1})}},resolver:pn},In={key:"hover",engine:class extends on{constructor(...e){super(...e),Os(this,"ingKey","hovering")}enter(e){this.config.mouseOnly&&"mouse"!==e.pointerType||(this.start(e),this.computeValues(zs(e)),this.compute(e),this.emit())}leave(e){if(this.config.mouseOnly&&"mouse"!==e.pointerType)return;const t=this.state;if(!t._active)return;t._active=!1;const s=zs(e);t._movement=t._delta=Ss.sub(s,t._values),this.computeValues(s),this.compute(e),t.delta=t.movement,this.emit()}bind(e){e("pointer","enter",this.enter.bind(this)),e("pointer","leave",this.leave.bind(this))}},resolver:Mn},Gn={key:"move",engine:class extends on{constructor(...e){super(...e),Os(this,"ingKey","moving")}move(e){this.config.mouseOnly&&"mouse"!==e.pointerType||(this.state._active?this.moveChange(e):this.moveStart(e),this.timeoutStore.add("moveEnd",this.moveEnd.bind(this)))}moveStart(e){this.start(e),this.computeValues(zs(e)),this.compute(e),this.computeInitial(),this.emit()}moveChange(e){if(!this.state._active)return;const t=zs(e),s=this.state;s._delta=Ss.sub(t,s._values),Ss.addTo(s._movement,s._delta),this.computeValues(t),this.compute(e),this.emit()}moveEnd(e){this.state._active&&(this.state._active=!1,this.compute(e),this.emit())}bind(e){e("pointer","change",this.move.bind(this)),e("pointer","leave",this.moveEnd.bind(this))}},resolver:mn},bn={key:"pinch",engine:class extends rn{constructor(...e){super(...e),Os(this,"ingKey","pinching"),Os(this,"aliasKey","da")}init(){this.state.offset=[1,0],this.state.lastOffset=[1,0],this.state._pointerEvents=new Map}reset(){super.reset();const e=this.state;e._touchIds=[],e.canceled=!1,e.cancel=this.cancel.bind(this),e.turns=0}computeOffset(){const{type:e,movement:t,lastOffset:s}=this.state;this.state.offset="wheel"===e?Ss.add(t,s):[(1+t[0])*s[0],t[1]+s[1]]}computeMovement(){const{offset:e,lastOffset:t}=this.state;this.state.movement=[e[0]/t[0],e[1]-t[1]]}axisIntent(){const e=this.state,[t,s]=e._movement;if(!e.axis){const n=30*Math.abs(t)-Math.abs(s);n<0?e.axis="angle":n>0&&(e.axis="scale")}}restrictToAxis(e){this.config.lockDirection&&("scale"===this.state.axis?e[1]=0:"angle"===this.state.axis&&(e[0]=0))}cancel(){const e=this.state;e.canceled||setTimeout((()=>{e.canceled=!0,e._active=!1,this.compute(),this.emit()}),0)}touchStart(e){this.ctrl.setEventIds(e);const t=this.state,s=this.ctrl.touchIds;if(t._active&&t._touchIds.every((e=>s.has(e))))return;if(s.size<2)return;this.start(e),t._touchIds=Array.from(s).slice(0,2);const n=Ws(e,t._touchIds);this.pinchStart(e,n)}pointerStart(e){if(null!=e.buttons&&e.buttons%2!==1)return;this.ctrl.setEventIds(e),e.target.setPointerCapture(e.pointerId);const t=this.state,s=t._pointerEvents,n=this.ctrl.pointerIds;if(t._active&&Array.from(s.keys()).every((e=>n.has(e))))return;if(s.size<2&&s.set(e.pointerId,e),t._pointerEvents.size<2)return;this.start(e);const r=Vs(...Array.from(s.values()));this.pinchStart(e,r)}pinchStart(e,t){this.state.origin=t.origin,this.computeValues([t.distance,t.angle]),this.computeInitial(),this.compute(e),this.emit()}touchMove(e){if(!this.state._active)return;const t=Ws(e,this.state._touchIds);this.pinchMove(e,t)}pointerMove(e){const t=this.state._pointerEvents;if(t.has(e.pointerId)&&t.set(e.pointerId,e),!this.state._active)return;const s=Vs(...Array.from(t.values()));this.pinchMove(e,s)}pinchMove(e,t){const s=this.state,n=s._values[1],r=t.angle-n;let i=0;Math.abs(r)>270&&(i+=Math.sign(r)),this.computeValues([t.distance,t.angle-360*i]),s.origin=t.origin,s.turns=i,s._movement=[s._values[0]/s._initial[0]-1,s._values[1]-s._initial[1]],this.compute(e),this.emit()}touchEnd(e){this.ctrl.setEventIds(e),this.state._active&&this.state._touchIds.some((e=>!this.ctrl.touchIds.has(e)))&&(this.state._active=!1,this.compute(e),this.emit())}pointerEnd(e){const t=this.state;this.ctrl.setEventIds(e);try{e.target.releasePointerCapture(e.pointerId)}catch(s){}t._pointerEvents.has(e.pointerId)&&t._pointerEvents.delete(e.pointerId),t._active&&t._pointerEvents.size<2&&(t._active=!1,this.compute(e),this.emit())}gestureStart(e){e.cancelable&&e.preventDefault();const t=this.state;t._active||(this.start(e),this.computeValues([e.scale,e.rotation]),t.origin=[e.clientX,e.clientY],this.compute(e),this.emit())}gestureMove(e){if(e.cancelable&&e.preventDefault(),!this.state._active)return;const t=this.state;this.computeValues([e.scale,e.rotation]),t.origin=[e.clientX,e.clientY];const s=t._movement;t._movement=[e.scale-1,e.rotation],t._delta=Ss.sub(t._movement,s),this.compute(e),this.emit()}gestureEnd(e){this.state._active&&(this.state._active=!1,this.compute(e),this.emit())}wheel(e){const t=this.config.modifierKey;t&&!e[t]||(this.state._active?this.wheelChange(e):this.wheelStart(e),this.timeoutStore.add("wheelEnd",this.wheelEnd.bind(this)))}wheelStart(e){this.start(e),this.wheelChange(e)}wheelChange(e){"uv"in e||e.cancelable&&e.preventDefault();const t=this.state;t._delta=[-$s(e)[1]/100*t.offset[0],0],Ss.addTo(t._movement,t._delta),this.state.origin=[e.clientX,e.clientY],this.compute(e),this.emit()}wheelEnd(){this.state._active&&(this.state._active=!1,this.compute(),this.emit())}bind(e){const t=this.config.device;t?(e(t,"start",this[t+"Start"].bind(this)),e(t,"change",this[t+"Move"].bind(this)),e(t,"end",this[t+"End"].bind(this)),e(t,"cancel",this[t+"End"].bind(this))):e("wheel","",this.wheel.bind(this),{passive:!1})}},resolver:fn},Dn={key:"scroll",engine:class extends on{constructor(...e){super(...e),Os(this,"ingKey","scrolling")}scroll(e){this.state._active||this.start(e),this.scrollChange(e),this.timeoutStore.add("scrollEnd",this.scrollEnd.bind(this))}scrollChange(e){e.cancelable&&e.preventDefault();const t=this.state,s=function(e){var t,s;const{scrollX:n,scrollY:r,scrollLeft:i,scrollTop:o}=e.currentTarget;return[null!==(t=null!==n&&void 0!==n?n:i)&&void 0!==t?t:0,null!==(s=null!==r&&void 0!==r?r:o)&&void 0!==s?s:0]}(e);t._delta=Ss.sub(s,t._values),Ss.addTo(t._movement,t._delta),this.computeValues(s),this.compute(e),this.emit()}scrollEnd(){this.state._active&&(this.state._active=!1,this.compute(),this.emit())}bind(e){e("scroll","",this.scroll.bind(this))}},resolver:Cn},Rn={key:"wheel",engine:class extends on{constructor(...e){super(...e),Os(this,"ingKey","wheeling")}wheel(e){this.state._active||this.start(e),this.wheelChange(e),this.timeoutStore.add("wheelEnd",this.wheelEnd.bind(this))}wheelChange(e){const t=this.state;t._delta=$s(e),Ss.addTo(t._movement,t._delta);const[s,n]=t.overflow,[r,i]=t._delta,[o,a]=t._direction;(s<0&&r>0&&o<0||s>0&&r<0&&o>0)&&(t._movement[0]=t._movementBound[0]),(n<0&&i>0&&a<0||n>0&&i<0&&a>0)&&(t._movement[1]=t._movementBound[1]),this.compute(e),this.emit()}wheelEnd(){this.state._active&&(this.state._active=!1,this.compute(),this.emit())}bind(e){e("wheel","",this.wheel.bind(this))}},resolver:gn};function Hn(e,t){if(null==e)return{};var s,n,r=function(e,t){if(null==e)return{};var s,n,r={},i=Object.keys(e);for(n=0;n<i.length;n++)s=i[n],t.indexOf(s)>=0||(r[s]=e[s]);return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)s=i[n],t.indexOf(s)>=0||Object.prototype.propertyIsEnumerable.call(e,s)&&(r[s]=e[s])}return r}const _n={target(e){if(e)return()=>"current"in e?e.current:e},enabled:(e=!0)=>e,window:(e=(An.isBrowser?window:void 0))=>e,eventOptions:({passive:e=!0,capture:t=!1}={})=>({passive:e,capture:t}),transform:e=>e},Tn=["target","eventOptions","window","enabled","transform"];function Jn(e={},t){const s={};for(const[n,r]of Object.entries(t))switch(typeof r){case"function":s[n]=r.call(s,e[n],n,e);break;case"object":s[n]=Jn(e[n],r);break;case"boolean":r&&(s[n]=e[n])}return s}class wn{constructor(e){Os(this,"_listeners",[]),this._ctrl=e}add(e,t,s,n,r){const i=function(e,t=""){const s=Ks[e];return e+(s&&s[t]||t)}(t,s),o=Us(Us({},this._ctrl.config.shared.eventOptions),r);e.addEventListener(i,n,o),this._listeners.push((()=>e.removeEventListener(i,n,o)))}clean(){this._listeners.forEach((e=>e())),this._listeners=[]}}class Sn{constructor(){Os(this,"_timeouts",new Map)}add(e,t,s=140,...n){this.remove(e),this._timeouts.set(e,window.setTimeout(t,s,...n))}remove(e){const t=this._timeouts.get(e);t&&window.clearTimeout(t)}clean(){this._timeouts.forEach((e=>{window.clearTimeout(e)})),this._timeouts.clear()}}class Pn{constructor(e){Os(this,"gestures",new Set),Os(this,"_targetEventStore",new wn(this)),Os(this,"gestureEventStores",{}),Os(this,"gestureTimeoutStores",{}),Os(this,"handlers",{}),Os(this,"config",{}),Os(this,"pointerIds",new Set),Os(this,"touchIds",new Set),Os(this,"state",{shared:{shiftKey:!1,metaKey:!1,ctrlKey:!1,altKey:!1}}),function(e,t){t.drag&&Ln(e,"drag");t.wheel&&Ln(e,"wheel");t.scroll&&Ln(e,"scroll");t.move&&Ln(e,"move");t.pinch&&Ln(e,"pinch");t.hover&&Ln(e,"hover")}(this,e)}setEventIds(e){Xs(e)?this.touchIds=new Set(Zs(e)):"pointerId"in e&&("pointerup"===e.type||"pointercancel"===e.type?this.pointerIds.delete(e.pointerId):"pointerdown"===e.type&&this.pointerIds.add(e.pointerId))}applyHandlers(e,t){this.handlers=e,this.nativeHandlers=t}applyConfig(e,t){this.config=function(e,t){const s=e,{target:n,eventOptions:r,window:i,enabled:o,transform:a}=s,c=Hn(s,Tn),u={shared:Jn({target:n,eventOptions:r,window:i,enabled:o,transform:a},_n)};if(t){const e=En.get(t);u[t]=Jn(Us({shared:u.shared},c),e)}else for(const l in c){const e=En.get(l);e&&(u[l]=Jn(Us({shared:u.shared},c[l]),e))}return u}(e,t)}clean(){this._targetEventStore.clean();for(const e of this.gestures)this.gestureEventStores[e].clean(),this.gestureTimeoutStores[e].clean()}effect(){return this.config.shared.target&&this.bind(),()=>this._targetEventStore.clean()}bind(...e){const t=this.config.shared,s=t.eventOptions,n={};let r;if(t.target&&(r=t.target(),!r))return;const i=On(n,s,!!r);if(t.enabled){for(const t of this.gestures)if(this.config[t].enabled){new(vn.get(t))(this,e,t).bind(i)}for(const t in this.nativeHandlers)i(t,"",(s=>this.nativeHandlers[t](Us(Us({},this.state.shared),{},{event:s,args:e}))),void 0,!0)}for(const o in n)n[o]=sn(...n[o]);if(!r)return n;for(const o in n){const{device:e,capture:t,passive:s}=Ns(o);this._targetEventStore.add(r,e,"",n[o],{capture:t,passive:s})}}}function Ln(e,t){e.gestures.add(t),e.gestureEventStores[t]=new wn(e),e.gestureTimeoutStores[t]=new Sn}const On=(e,t,s)=>(n,r,i,o={},a=!1)=>{var c,u;const l=null!==(c=o.capture)&&void 0!==c?c:t.capture,h=null!==(u=o.passive)&&void 0!==u?u:t.passive;let d=a?n:function(e,t="",s=!1){const n=Ks[e],r=n&&n[t]||t;return"on"+ks(e)+ks(r)+(s?"Capture":"")}(n,r,l);s&&h&&(d+="Passive"),e[d]=e[d]||[],e[d].push(i)},xn=/^on(Drag|Wheel|Scroll|Move|Pinch|Hover)/;function Un(e,t,s,n,r,i){if(!e.has(s))return;if(!vn.has(n))return void 0;const o=s+"Start",a=s+"End";r[n]=e=>{let n;return e.first&&o in t&&t[o](e),s in t&&(n=t[s](e)),e.last&&a in t&&t[a](e),n},i[n]=i[n]||{}}function Kn(e,t){const[s,n,r]=function(e){const t={},s={},n=new Set;for(let r in e)xn.test(r)?(n.add(RegExp.lastMatch),s[r]=e[r]):t[r]=e[r];return[s,t,n]}(e),i={};return Un(r,s,"onDrag","drag",i,t),Un(r,s,"onWheel","wheel",i,t),Un(r,s,"onScroll","scroll",i,t),Un(r,s,"onPinch","pinch",i,t),Un(r,s,"onMove","move",i,t),Un(r,s,"onHover","hover",i,t),{handlers:i,config:t,nativeHandlers:n}}function kn(e,t={},s,n){const i=r.useMemo((()=>new Pn(e)),[]);if(i.applyHandlers(e,n),i.applyConfig(t,s),r.useEffect(i.effect.bind(i)),r.useEffect((()=>i.clean.bind(i)),[]),void 0===t.target)return i.bind.bind(i)}function Qn(e,t={}){const s=([yn,bn,Dn,Rn,Gn,In].forEach(Fn),function(e,t={}){const{handlers:s,nativeHandlers:n,config:r}=Kn(e,t);return kn(s,r,void 0,n)});return s(e,t)}function Nn({snap:e,global:t,children:s,speed:a=1,rotation:c=[0,0,0],zoom:u=1,polar:l=[0,Math.PI/2],azimuth:h=[-1/0,1/0],config:d={mass:1,tension:170,friction:26}}){const{size:A,gl:B}=(0,o.Ky)(),p=r.useMemo((()=>[c[0]+l[0],c[0]+l[1]]),[c[0],l[0],l[1]]),f=r.useMemo((()=>[c[1]+h[0],c[1]+h[1]]),[c[1],h[0],h[1]]),m=r.useMemo((()=>[i.MathUtils.clamp(c[0],...p),i.MathUtils.clamp(c[1],...f),c[2]]),[c[0],c[1],c[2],p,f]),[C,g]=Gs((()=>({scale:1,rotation:m,config:d})));r.useEffect((()=>{g.start({scale:1,rotation:m,config:d})}),[m]),r.useEffect((()=>{t&&(document.body.style.cursor="grab")}),[t]);const M=Qn({onHover:({last:e})=>{t||(document.body.style.cursor=e?"auto":"grab")},onDrag:({down:t,delta:[s,n],memo:[r,o]=C.rotation.animation.to||m})=>{document.body.style.cursor=t?"grabbing":"grab",s=i.MathUtils.clamp(o+s/A.width*Math.PI*a,...f),n=i.MathUtils.clamp(r+n/A.height*Math.PI*a,...p);const c=e&&!t&&"boolean"!==typeof e?e:d;return g.start({scale:t&&n>p[1]/2?u:1,rotation:e&&!t?m:[n,s,0],config:e=>"scale"===e?{...c,friction:3*c.friction}:c}),[n,s]}},{target:t?B.domElement:void 0});return r.createElement(ws.group,(0,n.Z)({},null==M?void 0:M(),C),s)}},6946:function(){}}]);